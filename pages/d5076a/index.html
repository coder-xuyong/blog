<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.19" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.66" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://coder-xuyong.github.io/blog/pages/d5076a/"><meta property="og:site_name" content="coder-xuyong"><meta property="og:title" content="Tomcat容器"><meta property="og:description" content="Tomcat 容器 Tomcat 实现热部署和热加载 热加载的实现方式是 Web 容器启动一个后台线程，定期检测类文件的变化，如果有变化，就重新加载类，在这个过程中不会清空 Session ，一般用在开发环境。 热部署原理类似，也是由后台线程定时检测 Web 应用的变化，但它会重新加载整个 Web 应用。这种方式会清空 Session，比热加载更加干净..."><meta property="og:type" content="article"><meta property="og:image" content="https://raw.githubusercontent.com/dunwu/images/master/snap/20201130141536.png"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2025-06-10T02:14:26.000Z"><meta property="article:tag" content="Java"><meta property="article:tag" content="JavaWeb"><meta property="article:tag" content="服务器"><meta property="article:tag" content="Tomcat"><meta property="article:published_time" content="2022-02-17T22:34:30.000Z"><meta property="article:modified_time" content="2025-06-10T02:14:26.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Tomcat容器","image":["https://raw.githubusercontent.com/dunwu/images/master/snap/20201130141536.png"],"datePublished":"2022-02-17T22:34:30.000Z","dateModified":"2025-06-10T02:14:26.000Z","author":[{"@type":"Person","name":"xuyong","url":"https://github.com/coder-xuyong"}]}</script><script>
      // console.log(666)
      </script><title>Tomcat容器 | coder-xuyong</title><meta name="description" content="Tomcat 容器 Tomcat 实现热部署和热加载 热加载的实现方式是 Web 容器启动一个后台线程，定期检测类文件的变化，如果有变化，就重新加载类，在这个过程中不会清空 Session ，一般用在开发环境。 热部署原理类似，也是由后台线程定时检测 Web 应用的变化，但它会重新加载整个 Web 应用。这种方式会清空 Session，比热加载更加干净...">
    <link rel="preload" href="/assets/style-BIfm_VFx.css" as="style"><link rel="stylesheet" href="/assets/style-BIfm_VFx.css">
    <link rel="modulepreload" href="/assets/app-MqdbryXy.js"><link rel="modulepreload" href="/assets/index.html-S91Uhwjn.js">
    <link rel="prefetch" href="/assets/index.html-D7HFOFp_.js" as="script"><link rel="prefetch" href="/assets/intro.html-BW1KDblE.js" as="script"><link rel="prefetch" href="/assets/index.html-DwXeIzKW.js" as="script"><link rel="prefetch" href="/assets/disable.html-B5yTutyu.js" as="script"><link rel="prefetch" href="/assets/encrypt.html-Uz716s_0.js" as="script"><link rel="prefetch" href="/assets/layout.html-ATxHkwUF.js" as="script"><link rel="prefetch" href="/assets/markdown.html-BOdVzaND.js" as="script"><link rel="prefetch" href="/assets/page.html-Bt7Ph3sM.js" as="script"><link rel="prefetch" href="/assets/index.html-CkRBa31d.js" as="script"><link rel="prefetch" href="/assets/index.html-D94KtDQM.js" as="script"><link rel="prefetch" href="/assets/index.html-C3U4dWIO.js" as="script"><link rel="prefetch" href="/assets/01.linux.html-D2aB8ZiC.js" as="script"><link rel="prefetch" href="/assets/02.linuxWork.html-CarFzvHZ.js" as="script"><link rel="prefetch" href="/assets/DNS 工作原理.html-Dd9L77pN.js" as="script"><link rel="prefetch" href="/assets/ftp.html-v9I_2vQR.js" as="script"><link rel="prefetch" href="/assets/internet.html-Bc0bfR53.js" as="script"><link rel="prefetch" href="/assets/workconditon.html-DrjsSnjm.js" as="script"><link rel="prefetch" href="/assets/windowsWork.html-DdHculI8.js" as="script"><link rel="prefetch" href="/assets/index.html-FBW1jf_6.js" as="script"><link rel="prefetch" href="/assets/index.html-oZVkZVJN.js" as="script"><link rel="prefetch" href="/assets/index.html-D_138TpG.js" as="script"><link rel="prefetch" href="/assets/index.html-B9kt_1eG.js" as="script"><link rel="prefetch" href="/assets/index.html-DvJLEyuf.js" as="script"><link rel="prefetch" href="/assets/index.html-BFs76rO2.js" as="script"><link rel="prefetch" href="/assets/index.html-DkjuyPwT.js" as="script"><link rel="prefetch" href="/assets/index.html-DI7bYHjW.js" as="script"><link rel="prefetch" href="/assets/index.html-MqMVROqB.js" as="script"><link rel="prefetch" href="/assets/index.html-DXGFdluY.js" as="script"><link rel="prefetch" href="/assets/index.html-Prl5_pMD.js" as="script"><link rel="prefetch" href="/assets/AI入门.html-C1tRWgCj.js" as="script"><link rel="prefetch" href="/assets/deepseek本地搭建.html-CjF10eGU.js" as="script"><link rel="prefetch" href="/assets/index.html-CMTXZFQp.js" as="script"><link rel="prefetch" href="/assets/idea.html-4tFAjYsL.js" as="script"><link rel="prefetch" href="/assets/AI入门.html-DfUNzGXo.js" as="script"><link rel="prefetch" href="/assets/00.mysql安装.html-C0B_NM5D.js" as="script"><link rel="prefetch" href="/assets/01.mysql常见函数.html-B_rmMQgn.js" as="script"><link rel="prefetch" href="/assets/03.通过IBD文件恢复数据.html-CPI2fIyf.js" as="script"><link rel="prefetch" href="/assets/DDL.html-DeD5Cema.js" as="script"><link rel="prefetch" href="/assets/DML_DQL.html-B9aIiQiE.js" as="script"><link rel="prefetch" href="/assets/mysql存储过程.html-CGP3oKAI.js" as="script"><link rel="prefetch" href="/assets/mysql数据格式.html-BoNEPmwl.js" as="script"><link rel="prefetch" href="/assets/mysql约束.html-HIhh8guq.js" as="script"><link rel="prefetch" href="/assets/mysql自定义函数.html-DQn3Dj-e.js" as="script"><link rel="prefetch" href="/assets/redis 学习笔记之实战篇.html-D4UrpfVW.js" as="script"><link rel="prefetch" href="/assets/redis 学习笔记之快速入门.html-BsVUwuPi.js" as="script"><link rel="prefetch" href="/assets/redisBUG.html-l5CnEw8L.js" as="script"><link rel="prefetch" href="/assets/shell.html-DkyO5v8e.js" as="script"><link rel="prefetch" href="/assets/shellWork.html-A0Iqtud4.js" as="script"><link rel="prefetch" href="/assets/01.blogTutorial.html-B5cxZHOQ.js" as="script"><link rel="prefetch" href="/assets/02.cloudflare基本使用.html-DXsxGAT7.js" as="script"><link rel="prefetch" href="/assets/03.页面配置使用说明.html-YD8TVT9f.js" as="script"><link rel="prefetch" href="/assets/04.markdownTutorial.html-oBDvmm_3.js" as="script"><link rel="prefetch" href="/assets/05.vscode更新代码异常.html-BcgItZGf.js" as="script"><link rel="prefetch" href="/assets/index.html-B6m7Ru8r.js" as="script"><link rel="prefetch" href="/assets/index.html-CKPh8XCa.js" as="script"><link rel="prefetch" href="/assets/index.html-BSjsPTbr.js" as="script"><link rel="prefetch" href="/assets/tomcat相关.html-CttqdLDu.js" as="script"><link rel="prefetch" href="/assets/index.html-CiVAQzBa.js" as="script"><link rel="prefetch" href="/assets/index.html-Di3uO4K-.js" as="script"><link rel="prefetch" href="/assets/index.html-C1O2g2X1.js" as="script"><link rel="prefetch" href="/assets/index.html-X8gazcrJ.js" as="script"><link rel="prefetch" href="/assets/index.html-C4LWN-eI.js" as="script"><link rel="prefetch" href="/assets/index.html-DbuJpieg.js" as="script"><link rel="prefetch" href="/assets/index.html-B8cDRLyX.js" as="script"><link rel="prefetch" href="/assets/index.html-Dv5D_r1G.js" as="script"><link rel="prefetch" href="/assets/index.html-DkRDn9i_.js" as="script"><link rel="prefetch" href="/assets/index.html-B9ZshwZl.js" as="script"><link rel="prefetch" href="/assets/index.html-B1ITxSLP.js" as="script"><link rel="prefetch" href="/assets/index.html-Bn5F5plG.js" as="script"><link rel="prefetch" href="/assets/index.html-B54ZLqC2.js" as="script"><link rel="prefetch" href="/assets/index.html-B0avvFfB.js" as="script"><link rel="prefetch" href="/assets/index.html-CdTamJaW.js" as="script"><link rel="prefetch" href="/assets/index.html-DV7Rv_9j.js" as="script"><link rel="prefetch" href="/assets/index.html-Dd5rTlka.js" as="script"><link rel="prefetch" href="/assets/index.html-CU0ths4i.js" as="script"><link rel="prefetch" href="/assets/02.工厂方法模式.html-DxUVtukV.js" as="script"><link rel="prefetch" href="/assets/index.html-Du50U5jL.js" as="script"><link rel="prefetch" href="/assets/index.html-CHvP3bUn.js" as="script"><link rel="prefetch" href="/assets/index.html-DxoLVArn.js" as="script"><link rel="prefetch" href="/assets/index.html-C7NPNoWv.js" as="script"><link rel="prefetch" href="/assets/index.html-JhN2bPVB.js" as="script"><link rel="prefetch" href="/assets/index.html-CX_q-5Ev.js" as="script"><link rel="prefetch" href="/assets/index.html-Io51IwTu.js" as="script"><link rel="prefetch" href="/assets/index.html-ieBRGjBs.js" as="script"><link rel="prefetch" href="/assets/index.html-C_th6CIn.js" as="script"><link rel="prefetch" href="/assets/index.html-E8r_ChoP.js" as="script"><link rel="prefetch" href="/assets/index.html-U8WqnIu5.js" as="script"><link rel="prefetch" href="/assets/index.html-DdN4RwxM.js" as="script"><link rel="prefetch" href="/assets/index.html-G90iqoVO.js" as="script"><link rel="prefetch" href="/assets/index.html-KbIta5jX.js" as="script"><link rel="prefetch" href="/assets/index.html-DFLtywSe.js" as="script"><link rel="prefetch" href="/assets/index.html-DAvfAoPi.js" as="script"><link rel="prefetch" href="/assets/index.html-Dv77cPsD.js" as="script"><link rel="prefetch" href="/assets/index.html-DMQE2pCO.js" as="script"><link rel="prefetch" href="/assets/index.html-Dw1_tQob.js" as="script"><link rel="prefetch" href="/assets/index.html-f1SnXi2T.js" as="script"><link rel="prefetch" href="/assets/index.html-CVVXmRR4.js" as="script"><link rel="prefetch" href="/assets/index.html-Cx6XHWmZ.js" as="script"><link rel="prefetch" href="/assets/index.html-DLi8nd5t.js" as="script"><link rel="prefetch" href="/assets/index.html-w3rEfmEK.js" as="script"><link rel="prefetch" href="/assets/index.html-vbMsdLdk.js" as="script"><link rel="prefetch" href="/assets/index.html-DRFyum0p.js" as="script"><link rel="prefetch" href="/assets/index.html-Dvw5GV45.js" as="script"><link rel="prefetch" href="/assets/index.html-xg5KEC-m.js" as="script"><link rel="prefetch" href="/assets/index.html-Dd-XrPXg.js" as="script"><link rel="prefetch" href="/assets/index.html-jj7S5gIE.js" as="script"><link rel="prefetch" href="/assets/index.html-BvCEON9l.js" as="script"><link rel="prefetch" href="/assets/index.html-BZ-m2Lkc.js" as="script"><link rel="prefetch" href="/assets/index.html-CpwGyt8z.js" as="script"><link rel="prefetch" href="/assets/index.html-DR5E0PkP.js" as="script"><link rel="prefetch" href="/assets/index.html-BWfKGwA5.js" as="script"><link rel="prefetch" href="/assets/index.html-DPqlof9k.js" as="script"><link rel="prefetch" href="/assets/index.html-B9pqPKB4.js" as="script"><link rel="prefetch" href="/assets/index.html-CFQj6Jc6.js" as="script"><link rel="prefetch" href="/assets/index.html-CgOG-0Vr.js" as="script"><link rel="prefetch" href="/assets/index.html-DAGVbACH.js" as="script"><link rel="prefetch" href="/assets/index.html-CkJ9cy7Y.js" as="script"><link rel="prefetch" href="/assets/index.html-CKLJwrDd.js" as="script"><link rel="prefetch" href="/assets/index.html-DoGCGL2a.js" as="script"><link rel="prefetch" href="/assets/index.html-CQxz1wJE.js" as="script"><link rel="prefetch" href="/assets/index.html-DyFzKRjn.js" as="script"><link rel="prefetch" href="/assets/index.html-cCEsnwSM.js" as="script"><link rel="prefetch" href="/assets/index.html-CNmB6ZqM.js" as="script"><link rel="prefetch" href="/assets/index.html-hTQc4uGm.js" as="script"><link rel="prefetch" href="/assets/index.html-D4AauRC6.js" as="script"><link rel="prefetch" href="/assets/index.html-CyXvhpmQ.js" as="script"><link rel="prefetch" href="/assets/index.html-FfpQr15L.js" as="script"><link rel="prefetch" href="/assets/index.html-DpMF8TVQ.js" as="script"><link rel="prefetch" href="/assets/index.html-TspuffKQ.js" as="script"><link rel="prefetch" href="/assets/index.html-BtaCiPDn.js" as="script"><link rel="prefetch" href="/assets/index.html-BAZ-yHao.js" as="script"><link rel="prefetch" href="/assets/index.html-DlQUP0pR.js" as="script"><link rel="prefetch" href="/assets/index.html-Dznn2tlb.js" as="script"><link rel="prefetch" href="/assets/index.html-B1vAbxaQ.js" as="script"><link rel="prefetch" href="/assets/index.html-ZCJ4B0fd.js" as="script"><link rel="prefetch" href="/assets/index.html-BD3O2Irk.js" as="script"><link rel="prefetch" href="/assets/index.html-D-SR_fG0.js" as="script"><link rel="prefetch" href="/assets/index.html-Y_60XHSo.js" as="script"><link rel="prefetch" href="/assets/index.html-DpmJEWx2.js" as="script"><link rel="prefetch" href="/assets/index.html-aN39l3g3.js" as="script"><link rel="prefetch" href="/assets/index.html-CVrGq9nV.js" as="script"><link rel="prefetch" href="/assets/index.html-Bx3zsJbv.js" as="script"><link rel="prefetch" href="/assets/index.html-BX-3PrC_.js" as="script"><link rel="prefetch" href="/assets/index.html-HebsediF.js" as="script"><link rel="prefetch" href="/assets/index.html-BRdXau1p.js" as="script"><link rel="prefetch" href="/assets/index.html-DTBQKYgo.js" as="script"><link rel="prefetch" href="/assets/index.html-keHx1l8-.js" as="script"><link rel="prefetch" href="/assets/index.html-CX2h6dtA.js" as="script"><link rel="prefetch" href="/assets/index.html-CBQWrzUy.js" as="script"><link rel="prefetch" href="/assets/index.html-DfTz5ztu.js" as="script"><link rel="prefetch" href="/assets/index.html-2D7kJOh-.js" as="script"><link rel="prefetch" href="/assets/index.html-XgnJvjdY.js" as="script"><link rel="prefetch" href="/assets/index.html-CojjYldc.js" as="script"><link rel="prefetch" href="/assets/index.html-D89J_SO1.js" as="script"><link rel="prefetch" href="/assets/index.html-CjtLqvTk.js" as="script"><link rel="prefetch" href="/assets/index.html-Btaw2UY8.js" as="script"><link rel="prefetch" href="/assets/index.html-ZxalrZeb.js" as="script"><link rel="prefetch" href="/assets/index.html-KWh16Hab.js" as="script"><link rel="prefetch" href="/assets/index.html-DzjNUzc6.js" as="script"><link rel="prefetch" href="/assets/index.html-gtf074Nu.js" as="script"><link rel="prefetch" href="/assets/index.html-CEjCVq_B.js" as="script"><link rel="prefetch" href="/assets/index.html-BFDY-oy6.js" as="script"><link rel="prefetch" href="/assets/index.html-CFNWUlu4.js" as="script"><link rel="prefetch" href="/assets/index.html-CHgDm0oP.js" as="script"><link rel="prefetch" href="/assets/index.html-vEtKOu6g.js" as="script"><link rel="prefetch" href="/assets/index.html-C1NmawYH.js" as="script"><link rel="prefetch" href="/assets/index.html-ZGVM9wgJ.js" as="script"><link rel="prefetch" href="/assets/index.html-2fK-LiLP.js" as="script"><link rel="prefetch" href="/assets/index.html-CmN8dSY4.js" as="script"><link rel="prefetch" href="/assets/index.html-CZSnJ-Kk.js" as="script"><link rel="prefetch" href="/assets/index.html-DSpZd2_8.js" as="script"><link rel="prefetch" href="/assets/index.html-e2R-3KgF.js" as="script"><link rel="prefetch" href="/assets/index.html-D6pEdflf.js" as="script"><link rel="prefetch" href="/assets/index.html-BlL20thl.js" as="script"><link rel="prefetch" href="/assets/index.html-BiTC_Po9.js" as="script"><link rel="prefetch" href="/assets/index.html-B2Rg4JuY.js" as="script"><link rel="prefetch" href="/assets/index.html-CfFNFO1c.js" as="script"><link rel="prefetch" href="/assets/index.html-tKgTaSkw.js" as="script"><link rel="prefetch" href="/assets/index.html-pYoXzaLf.js" as="script"><link rel="prefetch" href="/assets/index.html-DOPoAofS.js" as="script"><link rel="prefetch" href="/assets/index.html-Dqkb-goB.js" as="script"><link rel="prefetch" href="/assets/index.html-R_WHt_fr.js" as="script"><link rel="prefetch" href="/assets/index.html-DaPYi9-J.js" as="script"><link rel="prefetch" href="/assets/index.html-DlHdIb6Y.js" as="script"><link rel="prefetch" href="/assets/index.html-BE3kkTdK.js" as="script"><link rel="prefetch" href="/assets/index.html-BMme5Jx6.js" as="script"><link rel="prefetch" href="/assets/index.html-B-FivTk4.js" as="script"><link rel="prefetch" href="/assets/index.html-INqrmHSM.js" as="script"><link rel="prefetch" href="/assets/index.html-Bwj7DlsW.js" as="script"><link rel="prefetch" href="/assets/index.html-C3q-1f1Q.js" as="script"><link rel="prefetch" href="/assets/index.html-CJkL892J.js" as="script"><link rel="prefetch" href="/assets/index.html-DJZdvDnJ.js" as="script"><link rel="prefetch" href="/assets/index.html-C_W219Je.js" as="script"><link rel="prefetch" href="/assets/index.html-D2EfJ1T-.js" as="script"><link rel="prefetch" href="/assets/index.html-CKzhAHwt.js" as="script"><link rel="prefetch" href="/assets/index.html-BDZ4xEYv.js" as="script"><link rel="prefetch" href="/assets/index.html-DBomxkLb.js" as="script"><link rel="prefetch" href="/assets/index.html-DmMKO-H6.js" as="script"><link rel="prefetch" href="/assets/index.html-BTHF6Wko.js" as="script"><link rel="prefetch" href="/assets/index.html-tL7t1Mku.js" as="script"><link rel="prefetch" href="/assets/index.html-Dd_nlkMi.js" as="script"><link rel="prefetch" href="/assets/index.html-UIdNpQKo.js" as="script"><link rel="prefetch" href="/assets/index.html-D1wsC35p.js" as="script"><link rel="prefetch" href="/assets/index.html-suWl-cCd.js" as="script"><link rel="prefetch" href="/assets/index.html-jZqxkUJg.js" as="script"><link rel="prefetch" href="/assets/index.html-BzpBi-nF.js" as="script"><link rel="prefetch" href="/assets/index.html-CTUCukuu.js" as="script"><link rel="prefetch" href="/assets/index.html-BH5OPOd-.js" as="script"><link rel="prefetch" href="/assets/index.html-BWIBPMv4.js" as="script"><link rel="prefetch" href="/assets/index.html-BrGTM0xE.js" as="script"><link rel="prefetch" href="/assets/index.html-CRkx7OBp.js" as="script"><link rel="prefetch" href="/assets/index.html-B0wWJsMl.js" as="script"><link rel="prefetch" href="/assets/index.html-C8yPTMx2.js" as="script"><link rel="prefetch" href="/assets/index.html-DBbFztEI.js" as="script"><link rel="prefetch" href="/assets/index.html-uid9-ulQ.js" as="script"><link rel="prefetch" href="/assets/bug.html-CsJ4hWRH.js" as="script"><link rel="prefetch" href="/assets/docx4j.html-DjLXCiDK.js" as="script"><link rel="prefetch" href="/assets/log.html-CY_-IiV5.js" as="script"><link rel="prefetch" href="/assets/maven.html-7xTpIh65.js" as="script"><link rel="prefetch" href="/assets/modbus.html-Dwc7ncXa.js" as="script"><link rel="prefetch" href="/assets/mybatis.html-YGGlIaKW.js" as="script"><link rel="prefetch" href="/assets/netty.html-C-ZTYSUV.js" as="script"><link rel="prefetch" href="/assets/workcondition.html-CYeFAipF.js" as="script"><link rel="prefetch" href="/assets/djangoWork.html-nGE2ZxZg.js" as="script"><link rel="prefetch" href="/assets/index.html-CAqvLREn.js" as="script"><link rel="prefetch" href="/assets/index.html-gMvU1G0S.js" as="script"><link rel="prefetch" href="/assets/index.html-hWa2MiBz.js" as="script"><link rel="prefetch" href="/assets/index.html-VeEqwz_9.js" as="script"><link rel="prefetch" href="/assets/index.html-cQ1_lcy4.js" as="script"><link rel="prefetch" href="/assets/index.html-Ci0kuMF8.js" as="script"><link rel="prefetch" href="/assets/index.html-DYKK6ZVv.js" as="script"><link rel="prefetch" href="/assets/index.html-SJErAAse.js" as="script"><link rel="prefetch" href="/assets/00.Java开发环境.html-CTowEphJ.js" as="script"><link rel="prefetch" href="/assets/01.Java基础语法.html-Cw2sgUr8.js" as="script"><link rel="prefetch" href="/assets/02.Java基本数据类型.html-_ssPb784.js" as="script"><link rel="prefetch" href="/assets/03.Java面向对象.html-Csl1q3D8.js" as="script"><link rel="prefetch" href="/assets/04.Java方法.html-D0iweAPz.js" as="script"><link rel="prefetch" href="/assets/05.Java数组.html-kR9CYofQ.js" as="script"><link rel="prefetch" href="/assets/06.Java枚举.html-Cks3nIVV.js" as="script"><link rel="prefetch" href="/assets/07.Java控制语句.html-DXRCPCca.js" as="script"><link rel="prefetch" href="/assets/08.Java异常.html-BBTgnCua.js" as="script"><link rel="prefetch" href="/assets/09.Java泛型.html-YBBF2SfJ.js" as="script"><link rel="prefetch" href="/assets/10.Java反射.html-BQ3MxLVF.js" as="script"><link rel="prefetch" href="/assets/11.Java注解.html-CaUSqE5f.js" as="script"><link rel="prefetch" href="/assets/12.JavaString类型.html-BFHtWi6_.js" as="script"><link rel="prefetch" href="/assets/13.java日志.html-zxHSwlY1.js" as="script"><link rel="prefetch" href="/assets/14.Java常用工具类.html-BKY6sgNT.js" as="script"><link rel="prefetch" href="/assets/index.html-B6tm2dgS.js" as="script"><link rel="prefetch" href="/assets/01.Java正则.html-Dj6ZtaU5.js" as="script"><link rel="prefetch" href="/assets/02.Java编码和加密.html-DlHmmIB4.js" as="script"><link rel="prefetch" href="/assets/03.Java国际化.html-Dfj3RcSt.js" as="script"><link rel="prefetch" href="/assets/04.JDK8.html-CbaGUwJL.js" as="script"><link rel="prefetch" href="/assets/05.JavaSPI.html-zBp5O9W3.js" as="script"><link rel="prefetch" href="/assets/99.Java编程规范.html-BdlC5bg7.js" as="script"><link rel="prefetch" href="/assets/01.Java容器简介.html-4VBqrRk3.js" as="script"><link rel="prefetch" href="/assets/02.Java容器之List.html-Dch-429G.js" as="script"><link rel="prefetch" href="/assets/03.Java容器之Map.html-Cye8vJnB.js" as="script"><link rel="prefetch" href="/assets/04.Java容器之Set.html-DgpQlxzq.js" as="script"><link rel="prefetch" href="/assets/05.Java容器之Queue.html-Dh-841zE.js" as="script"><link rel="prefetch" href="/assets/06.Java容器之Stream.html-whmYBwip.js" as="script"><link rel="prefetch" href="/assets/01.JavaIO模型.html-3iSj90tB.js" as="script"><link rel="prefetch" href="/assets/02.JavaNIO.html-CJZVEcxY.js" as="script"><link rel="prefetch" href="/assets/03.Java序列化.html-C3MQxJcr.js" as="script"><link rel="prefetch" href="/assets/04.Java网络编程.html-BUYaoKyQ.js" as="script"><link rel="prefetch" href="/assets/05.JavaIO工具类.html-RW6NQt1D.js" as="script"><link rel="prefetch" href="/assets/06.jdbc.html-DQEKsGm9.js" as="script"><link rel="prefetch" href="/assets/01.Java并发简介.html-BlAwivQp.js" as="script"><link rel="prefetch" href="/assets/02.Java线程基础.html-B3WIBji6.js" as="script"><link rel="prefetch" href="/assets/03.Java并发核心机制.html-TATZs_Ge.js" as="script"><link rel="prefetch" href="/assets/index.html-BbKON9aH.js" as="script"><link rel="prefetch" href="/assets/index.html-CNcPZhZ2.js" as="script"><link rel="prefetch" href="/assets/index.html-B9onUA2C.js" as="script"><link rel="prefetch" href="/assets/index.html-CZzLMPAV.js" as="script"><link rel="prefetch" href="/assets/index.html-BtRjFy3f.js" as="script"><link rel="prefetch" href="/assets/index.html-CuJVTgft.js" as="script"><link rel="prefetch" href="/assets/index.html-cIKbN1dj.js" as="script"><link rel="prefetch" href="/assets/index.html-DaDkZFv4.js" as="script"><link rel="prefetch" href="/assets/index.html-CIYO7ajI.js" as="script"><link rel="prefetch" href="/assets/index.html-CbwL14wu.js" as="script"><link rel="prefetch" href="/assets/index.html-Dys7jKA-.js" as="script"><link rel="prefetch" href="/assets/index.html-CDEl3p3E.js" as="script"><link rel="prefetch" href="/assets/index.html-B7C-_z5k.js" as="script"><link rel="prefetch" href="/assets/index.html-DCFQiEcy.js" as="script"><link rel="prefetch" href="/assets/index.html-DOTMCwzk.js" as="script"><link rel="prefetch" href="/assets/index.html-DKz318Ca.js" as="script"><link rel="prefetch" href="/assets/index.html-kAKp5Dy5.js" as="script"><link rel="prefetch" href="/assets/index.html-DMMyFeZm.js" as="script"><link rel="prefetch" href="/assets/第三方库错误集合.html-Sp8CZ1qp.js" as="script"><link rel="prefetch" href="/assets/99.Java面试.html-AqG3nWWF.js" as="script"><link rel="prefetch" href="/assets/index.html-bcxbZms6.js" as="script"><link rel="prefetch" href="/assets/index.html-j-EJkU1y.js" as="script"><link rel="prefetch" href="/assets/index.html-CjFXdpjh.js" as="script"><link rel="prefetch" href="/assets/index.html-RL4Q2t3k.js" as="script"><link rel="prefetch" href="/assets/index.html-KXPIw-Au.js" as="script"><link rel="prefetch" href="/assets/index.html-C2e4Vn-b.js" as="script"><link rel="prefetch" href="/assets/index.html-Dv8OGCyB.js" as="script"><link rel="prefetch" href="/assets/index.html-B1I14gcD.js" as="script"><link rel="prefetch" href="/assets/README.html-vBoa5LLK.js" as="script"><link rel="prefetch" href="/assets/index.html-BXpwyuom.js" as="script"><link rel="prefetch" href="/assets/index.html-BBN8B-Mv.js" as="script"><link rel="prefetch" href="/assets/index.html-BTf_CfXf.js" as="script"><link rel="prefetch" href="/assets/index.html-4sHUeja5.js" as="script"><link rel="prefetch" href="/assets/index.html-BX73Js-W.js" as="script"><link rel="prefetch" href="/assets/index.html-tab3xTf9.js" as="script"><link rel="prefetch" href="/assets/index.html-BXGIjEeN.js" as="script"><link rel="prefetch" href="/assets/index.html-ChNedlKU.js" as="script"><link rel="prefetch" href="/assets/index.html-SzCOTeGr.js" as="script"><link rel="prefetch" href="/assets/index.html-CSFt83uw.js" as="script"><link rel="prefetch" href="/assets/index.html-CbxIXCaZ.js" as="script"><link rel="prefetch" href="/assets/index.html-BiMQm1td.js" as="script"><link rel="prefetch" href="/assets/index.html-DDlJK2b-.js" as="script"><link rel="prefetch" href="/assets/index.html-CT3EMNgW.js" as="script"><link rel="prefetch" href="/assets/index.html-CLQXniIp.js" as="script"><link rel="prefetch" href="/assets/index.html-DyMs9-Kg.js" as="script"><link rel="prefetch" href="/assets/index.html-C7VxPeT3.js" as="script"><link rel="prefetch" href="/assets/index.html-DsN8rvdq.js" as="script"><link rel="prefetch" href="/assets/index.html-ZZoYAweH.js" as="script"><link rel="prefetch" href="/assets/index.html-BOxEtUa8.js" as="script"><link rel="prefetch" href="/assets/index.html-DTsd9SPx.js" as="script"><link rel="prefetch" href="/assets/index.html-BxfwyrMk.js" as="script"><link rel="prefetch" href="/assets/index.html-AwqxTxNb.js" as="script"><link rel="prefetch" href="/assets/index.html-BxKlzCAc.js" as="script"><link rel="prefetch" href="/assets/index.html-BAUtTxYM.js" as="script"><link rel="prefetch" href="/assets/index.html-DIADVnF3.js" as="script"><link rel="prefetch" href="/assets/index.html-DJ4k84jD.js" as="script"><link rel="prefetch" href="/assets/index.html-Dd2sAmBj.js" as="script"><link rel="prefetch" href="/assets/index.html-DhxomQZJ.js" as="script"><link rel="prefetch" href="/assets/index.html-C-rmeG3i.js" as="script"><link rel="prefetch" href="/assets/index.html-CWiQGelk.js" as="script"><link rel="prefetch" href="/assets/index.html-BycEGoCi.js" as="script"><link rel="prefetch" href="/assets/index.html-BkFNqnM3.js" as="script"><link rel="prefetch" href="/assets/index.html-0G0nWnjN.js" as="script"><link rel="prefetch" href="/assets/index.html-8rbODCZQ.js" as="script"><link rel="prefetch" href="/assets/index.html-sMvwlDsQ.js" as="script"><link rel="prefetch" href="/assets/index.html-CCS4shSt.js" as="script"><link rel="prefetch" href="/assets/index.html-n4RcEnwy.js" as="script"><link rel="prefetch" href="/assets/index.html-BVSc1CUM.js" as="script"><link rel="prefetch" href="/assets/index.html-CXkn1UTc.js" as="script"><link rel="prefetch" href="/assets/index.html-Cke-AKb9.js" as="script"><link rel="prefetch" href="/assets/index.html-DjdXj_-g.js" as="script"><link rel="prefetch" href="/assets/index.html-CNUV2NGX.js" as="script"><link rel="prefetch" href="/assets/index.html-CBLQlnBZ.js" as="script"><link rel="prefetch" href="/assets/index.html-CjuZFT5m.js" as="script"><link rel="prefetch" href="/assets/index.html-CrgtOGLV.js" as="script"><link rel="prefetch" href="/assets/index.html-CZCzrvDM.js" as="script"><link rel="prefetch" href="/assets/index.html-CZQYfLE1.js" as="script"><link rel="prefetch" href="/assets/index.html-DxeIurSP.js" as="script"><link rel="prefetch" href="/assets/index.html-DxjNl_d4.js" as="script"><link rel="prefetch" href="/assets/index.html-vA0hntN9.js" as="script"><link rel="prefetch" href="/assets/index.html-BmXFnewD.js" as="script"><link rel="prefetch" href="/assets/index.html-DfA-ks2O.js" as="script"><link rel="prefetch" href="/assets/index.html-7Aup26hP.js" as="script"><link rel="prefetch" href="/assets/index.html-B1T9VAcQ.js" as="script"><link rel="prefetch" href="/assets/index.html-BFnJ3QIP.js" as="script"><link rel="prefetch" href="/assets/index.html-m2KLimgo.js" as="script"><link rel="prefetch" href="/assets/index.html-B0QwBP8Q.js" as="script"><link rel="prefetch" href="/assets/index.html-DI66yLgl.js" as="script"><link rel="prefetch" href="/assets/index.html-i7gJN1VL.js" as="script"><link rel="prefetch" href="/assets/index.html-BEXK27f1.js" as="script"><link rel="prefetch" href="/assets/21.Mysql触发器.html-aQBOuDsL.js" as="script"><link rel="prefetch" href="/assets/22.mysqldump.html-KsSgkRaO.js" as="script"><link rel="prefetch" href="/assets/98.mysql常见错误.html-BmIVNMKK.js" as="script"><link rel="prefetch" href="/assets/index.html-B4C5ab7_.js" as="script"><link rel="prefetch" href="/assets/index.html-dt8vN_1r.js" as="script"><link rel="prefetch" href="/assets/index.html-C72zhAaP.js" as="script"><link rel="prefetch" href="/assets/index.html-BjRPRutr.js" as="script"><link rel="prefetch" href="/assets/index.html-BqJ1QyXw.js" as="script"><link rel="prefetch" href="/assets/index.html-DwKybzkJ.js" as="script"><link rel="prefetch" href="/assets/index.html-CrCbU4Jm.js" as="script"><link rel="prefetch" href="/assets/index.html-DexKuzrJ.js" as="script"><link rel="prefetch" href="/assets/index.html-B8mVgFLD.js" as="script"><link rel="prefetch" href="/assets/index.html-CN0EOnnD.js" as="script"><link rel="prefetch" href="/assets/index.html-DNEugx0n.js" as="script"><link rel="prefetch" href="/assets/index.html-CquYradT.js" as="script"><link rel="prefetch" href="/assets/index.html-NskMvog8.js" as="script"><link rel="prefetch" href="/assets/index.html-D-vg0A98.js" as="script"><link rel="prefetch" href="/assets/index.html-nousvwZ3.js" as="script"><link rel="prefetch" href="/assets/index.html-B5pRBCqj.js" as="script"><link rel="prefetch" href="/assets/index.html-DR7V0dDy.js" as="script"><link rel="prefetch" href="/assets/01.Redis基本数据类型.html-CtpMJJd-.js" as="script"><link rel="prefetch" href="/assets/index.html-Bezl3ORE.js" as="script"><link rel="prefetch" href="/assets/index.html-CzaeEiYo.js" as="script"><link rel="prefetch" href="/assets/index.html-COu94zdv.js" as="script"><link rel="prefetch" href="/assets/index.html-CutDk52a.js" as="script"><link rel="prefetch" href="/assets/index.html-Cn-HrIO8.js" as="script"><link rel="prefetch" href="/assets/index.html-meXPbiK3.js" as="script"><link rel="prefetch" href="/assets/index.html-BJ1FEnAg.js" as="script"><link rel="prefetch" href="/assets/index.html-CpI0g_QQ.js" as="script"><link rel="prefetch" href="/assets/31.Redis发布订阅.html-CGax1Uiz.js" as="script"><link rel="prefetch" href="/assets/index.html-DnWeYdX2.js" as="script"><link rel="prefetch" href="/assets/index.html-BV4fSJ0E.js" as="script"><link rel="prefetch" href="/assets/index.html-BhP4uVFk.js" as="script"><link rel="prefetch" href="/assets/index.html-Dqe4jhYI.js" as="script"><link rel="prefetch" href="/assets/index.html-CQWZzjgK.js" as="script"><link rel="prefetch" href="/assets/43.Redis发布订阅案例.html-B6bZA1AD.js" as="script"><link rel="prefetch" href="/assets/index.html-BOQHOG2N.js" as="script"><link rel="prefetch" href="/assets/README.html-Bp-i5t1r.js" as="script"><link rel="prefetch" href="/assets/index.html-Bm3zbSrC.js" as="script"><link rel="prefetch" href="/assets/index.html-DGmFEYax.js" as="script"><link rel="prefetch" href="/assets/index.html-DpshLGu9.js" as="script"><link rel="prefetch" href="/assets/index.html-C51eRgv6.js" as="script"><link rel="prefetch" href="/assets/index.html-CI3UWkYo.js" as="script"><link rel="prefetch" href="/assets/index.html-AUzGrc4Q.js" as="script"><link rel="prefetch" href="/assets/index.html-BVQ_3sSx.js" as="script"><link rel="prefetch" href="/assets/index.html-CXRCM2Th.js" as="script"><link rel="prefetch" href="/assets/index.html-C81iisvD.js" as="script"><link rel="prefetch" href="/assets/index.html-BwZ-lsHk.js" as="script"><link rel="prefetch" href="/assets/index.html-CqVT3YjZ.js" as="script"><link rel="prefetch" href="/assets/index.html-CB5rAXbu.js" as="script"><link rel="prefetch" href="/assets/index.html-Cg_-VAdo.js" as="script"><link rel="prefetch" href="/assets/index.html-IwlWOA7b.js" as="script"><link rel="prefetch" href="/assets/index.html-BfZatIz1.js" as="script"><link rel="prefetch" href="/assets/index.html-2Jn3Su4P.js" as="script"><link rel="prefetch" href="/assets/index.html-CjnteiSr.js" as="script"><link rel="prefetch" href="/assets/index.html-DQTT43ZQ.js" as="script"><link rel="prefetch" href="/assets/index.html-DdKY8brf.js" as="script"><link rel="prefetch" href="/assets/index.html-CCZQ-yYt.js" as="script"><link rel="prefetch" href="/assets/index.html-C_PulWWI.js" as="script"><link rel="prefetch" href="/assets/index.html-CA2sZ3sF.js" as="script"><link rel="prefetch" href="/assets/index.html-CNcIouWi.js" as="script"><link rel="prefetch" href="/assets/index.html-974i9GSz.js" as="script"><link rel="prefetch" href="/assets/index.html-DAHpae9m.js" as="script"><link rel="prefetch" href="/assets/index.html-Bd-qg5X3.js" as="script"><link rel="prefetch" href="/assets/index.html-B4-1up9S.js" as="script"><link rel="prefetch" href="/assets/index.html-QESIJL6q.js" as="script"><link rel="prefetch" href="/assets/index.html-B-mEH2Pi.js" as="script"><link rel="prefetch" href="/assets/index.html-BCPHE25W.js" as="script"><link rel="prefetch" href="/assets/index.html-CGwVUVbd.js" as="script"><link rel="prefetch" href="/assets/index.html-BihMK7bn.js" as="script"><link rel="prefetch" href="/assets/index.html-BCYPnSte.js" as="script"><link rel="prefetch" href="/assets/index.html-DGqMly2v.js" as="script"><link rel="prefetch" href="/assets/index.html-guhlAPUe.js" as="script"><link rel="prefetch" href="/assets/index.html-CGBIZ6Mf.js" as="script"><link rel="prefetch" href="/assets/index.html-BfyShjbw.js" as="script"><link rel="prefetch" href="/assets/index.html-DJuCvyr3.js" as="script"><link rel="prefetch" href="/assets/index.html-CCH0IUnv.js" as="script"><link rel="prefetch" href="/assets/index.html-D5cjiZpR.js" as="script"><link rel="prefetch" href="/assets/index.html-D9eP8c-I.js" as="script"><link rel="prefetch" href="/assets/index.html-BBoEUXfM.js" as="script"><link rel="prefetch" href="/assets/index.html-DQ-r7BLn.js" as="script"><link rel="prefetch" href="/assets/index.html-FWRPfupB.js" as="script"><link rel="prefetch" href="/assets/index.html-AG2mfvmm.js" as="script"><link rel="prefetch" href="/assets/index.html-BnzG9jch.js" as="script"><link rel="prefetch" href="/assets/index.html-Cp0c45aS.js" as="script"><link rel="prefetch" href="/assets/index.html-Dhu1Tk2p.js" as="script"><link rel="prefetch" href="/assets/index.html-CbRpyWmW.js" as="script"><link rel="prefetch" href="/assets/index.html-C-wY4n5w.js" as="script"><link rel="prefetch" href="/assets/index.html-C3sH_oiY.js" as="script"><link rel="prefetch" href="/assets/index.html-v5cYNARW.js" as="script"><link rel="prefetch" href="/assets/index.html-COECusy5.js" as="script"><link rel="prefetch" href="/assets/index.html-CSa6_Tuw.js" as="script"><link rel="prefetch" href="/assets/index.html-DzCs0wqy.js" as="script"><link rel="prefetch" href="/assets/index.html-s8rjWfbU.js" as="script"><link rel="prefetch" href="/assets/index.html-4DT7P04j.js" as="script"><link rel="prefetch" href="/assets/index.html-GbhHjxQ-.js" as="script"><link rel="prefetch" href="/assets/index.html-CBE2x-bP.js" as="script"><link rel="prefetch" href="/assets/index.html-BzYe19sz.js" as="script"><link rel="prefetch" href="/assets/index.html-7Vy6mZgN.js" as="script"><link rel="prefetch" href="/assets/index.html-CEsd0x8W.js" as="script"><link rel="prefetch" href="/assets/index.html-DiAuOUbE.js" as="script"><link rel="prefetch" href="/assets/index.html-BWkj6RMT.js" as="script"><link rel="prefetch" href="/assets/index.html-BV5VvlrF.js" as="script"><link rel="prefetch" href="/assets/index.html-DsG9J9me.js" as="script"><link rel="prefetch" href="/assets/index.html-BHsTgAO9.js" as="script"><link rel="prefetch" href="/assets/index.html-CzWmP8Rz.js" as="script"><link rel="prefetch" href="/assets/index.html-BYDChePs.js" as="script"><link rel="prefetch" href="/assets/index.html-DwT4Ssry.js" as="script"><link rel="prefetch" href="/assets/index.html-C3cAsAAH.js" as="script"><link rel="prefetch" href="/assets/index.html-kBJLtLxS.js" as="script"><link rel="prefetch" href="/assets/index.html-uPMHF6Y-.js" as="script"><link rel="prefetch" href="/assets/index.html-BA_UlTwn.js" as="script"><link rel="prefetch" href="/assets/index.html-CWtpcwCK.js" as="script"><link rel="prefetch" href="/assets/index.html-5kkrTz27.js" as="script"><link rel="prefetch" href="/assets/index.html-MXz14vnS.js" as="script"><link rel="prefetch" href="/assets/index.html-4hry0U5t.js" as="script"><link rel="prefetch" href="/assets/index.html-FYhqz0D2.js" as="script"><link rel="prefetch" href="/assets/index.html-B5018upp.js" as="script"><link rel="prefetch" href="/assets/index.html-D778c1F0.js" as="script"><link rel="prefetch" href="/assets/index.html-DqNxnBEk.js" as="script"><link rel="prefetch" href="/assets/index.html-DYtb-7B3.js" as="script"><link rel="prefetch" href="/assets/index.html-CMAWbt1T.js" as="script"><link rel="prefetch" href="/assets/index.html-CerPtAZj.js" as="script"><link rel="prefetch" href="/assets/index.html-wYJHk4Pc.js" as="script"><link rel="prefetch" href="/assets/index.html-CrosHemg.js" as="script"><link rel="prefetch" href="/assets/index.html-BIbQ8Nd1.js" as="script"><link rel="prefetch" href="/assets/index.html-C2kjaWrl.js" as="script"><link rel="prefetch" href="/assets/index.html-Bq8U2xHq.js" as="script"><link rel="prefetch" href="/assets/index.html-BErMrwef.js" as="script"><link rel="prefetch" href="/assets/index.html-I1zQGoIb.js" as="script"><link rel="prefetch" href="/assets/index.html-BsS0k4Et.js" as="script"><link rel="prefetch" href="/assets/index.html-Da8STmZv.js" as="script"><link rel="prefetch" href="/assets/index.html-DVRsBshK.js" as="script"><link rel="prefetch" href="/assets/index.html-BwhyGuh8.js" as="script"><link rel="prefetch" href="/assets/index.html-reyEBv3a.js" as="script"><link rel="prefetch" href="/assets/index.html-D79vvfMs.js" as="script"><link rel="prefetch" href="/assets/index.html-CoE_9niu.js" as="script"><link rel="prefetch" href="/assets/index.html-DGKhJhtn.js" as="script"><link rel="prefetch" href="/assets/index.html-oIC8c9Dg.js" as="script"><link rel="prefetch" href="/assets/index.html-DCXfs9hL.js" as="script"><link rel="prefetch" href="/assets/index.html-DJQ9yWu5.js" as="script"><link rel="prefetch" href="/assets/index.html-Cijfzj_B.js" as="script"><link rel="prefetch" href="/assets/index.html-IgfZhuEN.js" as="script"><link rel="prefetch" href="/assets/index.html-DW3wgMWE.js" as="script"><link rel="prefetch" href="/assets/index.html-CjFTaJQZ.js" as="script"><link rel="prefetch" href="/assets/index.html-BawwPt09.js" as="script"><link rel="prefetch" href="/assets/index.html-yu_WL5tS.js" as="script"><link rel="prefetch" href="/assets/index.html-CoQBbAPq.js" as="script"><link rel="prefetch" href="/assets/index.html-DLjFRbfC.js" as="script"><link rel="prefetch" href="/assets/index.html-C2OHkRMY.js" as="script"><link rel="prefetch" href="/assets/index.html-PbiXrjM6.js" as="script"><link rel="prefetch" href="/assets/index.html-CKTor45t.js" as="script"><link rel="prefetch" href="/assets/index.html-4V-362N2.js" as="script"><link rel="prefetch" href="/assets/index.html-Cjd5TtV3.js" as="script"><link rel="prefetch" href="/assets/index.html-D-BAkfBW.js" as="script"><link rel="prefetch" href="/assets/index.html-BICVaoaw.js" as="script"><link rel="prefetch" href="/assets/index.html-Bx8fR5AO.js" as="script"><link rel="prefetch" href="/assets/01-Java基础语法.html-2UJkp6UR.js" as="script"><link rel="prefetch" href="/assets/02-Java基础语法.html-DfH_3DUh.js" as="script"><link rel="prefetch" href="/assets/03笔记.html-1ulgNiyI.js" as="script"><link rel="prefetch" href="/assets/day04-流程控制语句.html-DfDnYi--.js" as="script"><link rel="prefetch" href="/assets/循环高级.html-C4yQ2W6o.js" as="script"><link rel="prefetch" href="/assets/数组.html-BZ1G7arv.js" as="script"><link rel="prefetch" href="/assets/方法.html-B4iOTXjv.js" as="script"><link rel="prefetch" href="/assets/综合练习.html-DASo_9ko.js" as="script"><link rel="prefetch" href="/assets/常用API.html-DaZLmu3B.js" as="script"><link rel="prefetch" href="/assets/面向对象.html-OPe3sYk0.js" as="script"><link rel="prefetch" href="/assets/扩展：键盘录入笔记.html-D3UkBXDt.js" as="script"><link rel="prefetch" href="/assets/面向对象综合训练综合练习.html-CdFx_cT8.js" as="script"><link rel="prefetch" href="/assets/ArrayList_学生管理系统.html-DMpGhrqz.js" as="script"><link rel="prefetch" href="/assets/day13面向对象进阶.html-LN2WBHOQ.js" as="script"><link rel="prefetch" href="/assets/多态.html-DR2bbyRF.js" as="script"><link rel="prefetch" href="/assets/day15笔记.html-D0sZfpjr.js" as="script"><link rel="prefetch" href="/assets/day16-面向对象综合练习（上）.html-BYm5yCl1.js" as="script"><link rel="prefetch" href="/assets/day17-面向对象综合练习（下）.html-C2MauxhB.js" as="script"><link rel="prefetch" href="/assets/API.html-D8oX4Oki.js" as="script"><link rel="prefetch" href="/assets/正则表达式.html-BaP-53yq.js" as="script"><link rel="prefetch" href="/assets/API.html-wS-aAZfa.js" as="script"><link rel="prefetch" href="/assets/算法.html-CgZiKhLv.js" as="script"><link rel="prefetch" href="/assets/集合01.html-CcVGWqmL.js" as="script"><link rel="prefetch" href="/assets/集合02.html-Cvdzbups.js" as="script"><link rel="prefetch" href="/assets/集合03.html-BwSxcf-i.js" as="script"><link rel="prefetch" href="/assets/可变参数_综合练习.html-BRRQ321M.js" as="script"><link rel="prefetch" href="/assets/stream流和方法引用.html-6wQzoY6_.js" as="script"><link rel="prefetch" href="/assets/IO(异常_File_综合案例）.html-CclC66g8.js" as="script"><link rel="prefetch" href="/assets/IO流（字节流_字符流）.html-BLXfoAG0.js" as="script"><link rel="prefetch" href="/assets/IO流（其他流）.html-BjVz3dks.js" as="script"><link rel="prefetch" href="/assets/多线程01.html-PZ9t9Yaw.js" as="script"><link rel="prefetch" href="/assets/多线程02.html-CoXDFMAu.js" as="script"><link rel="prefetch" href="/assets/网络编程.html-rQ6MY--U.js" as="script"><link rel="prefetch" href="/assets/反射_动态代理.html-T48YYR6j.js" as="script"><link rel="prefetch" href="/assets/1.object-oriented-programming.html-Aqiqv0Ap.js" as="script"><link rel="prefetch" href="/assets/2.three-features.html-CEf0tfcz.js" as="script"><link rel="prefetch" href="/assets/3.java-basic.html-CtGQSeRK.js" as="script"><link rel="prefetch" href="/assets/4.collection.html-XElkkb_i.js" as="script"><link rel="prefetch" href="/assets/comparator.html-CSUOClQd.js" as="script"><link rel="prefetch" href="/assets/ioStream.html-B9XUiCrq.js" as="script"><link rel="prefetch" href="/assets/java8Stream.html-DsqF06Tv.js" as="script"><link rel="prefetch" href="/assets/jottings.html-Ci9xYsUe.js" as="script"><link rel="prefetch" href="/assets/multithreading.html-Doio1O4r.js" as="script"><link rel="prefetch" href="/assets/regularExpression.html-dhVWEEEy.js" as="script"><link rel="prefetch" href="/assets/HTTP_Tomcat_Servlet.html-CaK9IG-4.js" as="script"><link rel="prefetch" href="/assets/Request_Response.html-Cjxf3wwh.js" as="script"><link rel="prefetch" href="/assets/jdbc.html-DtuPb7kX.js" as="script"><link rel="prefetch" href="/assets/index.html-yY-fCUf4.js" as="script"><link rel="prefetch" href="/assets/index.html-D2H9ha3X.js" as="script"><link rel="prefetch" href="/assets/index.html-Daq24taO.js" as="script"><link rel="prefetch" href="/assets/index.html-CKlncvA1.js" as="script"><link rel="prefetch" href="/assets/index.html-4vsidSvn.js" as="script"><link rel="prefetch" href="/assets/index.html-Ck7M5uKs.js" as="script"><link rel="prefetch" href="/assets/index.html-B02zCLT9.js" as="script"><link rel="prefetch" href="/assets/index.html-Br-GLveD.js" as="script"><link rel="prefetch" href="/assets/index.html-BN_KClRt.js" as="script"><link rel="prefetch" href="/assets/index.html-DsUFdern.js" as="script"><link rel="prefetch" href="/assets/index.html-RL5-crU6.js" as="script"><link rel="prefetch" href="/assets/index.html-CyHfkCRu.js" as="script"><link rel="prefetch" href="/assets/index.html-Bv0DJ94c.js" as="script"><link rel="prefetch" href="/assets/index.html-BSDSzngD.js" as="script"><link rel="prefetch" href="/assets/index.html-B6rldcUl.js" as="script"><link rel="prefetch" href="/assets/index.html-6mzuWADk.js" as="script"><link rel="prefetch" href="/assets/index.html-CVwNit_a.js" as="script"><link rel="prefetch" href="/assets/index.html-DXF205Yx.js" as="script"><link rel="prefetch" href="/assets/index.html-DP2VsXU9.js" as="script"><link rel="prefetch" href="/assets/index.html-ByVof6Ig.js" as="script"><link rel="prefetch" href="/assets/index.html-Cd6oNoIt.js" as="script"><link rel="prefetch" href="/assets/index.html-BbKGsOzD.js" as="script"><link rel="prefetch" href="/assets/index.html-DVF2aw45.js" as="script"><link rel="prefetch" href="/assets/index.html-31nDH0rf.js" as="script"><link rel="prefetch" href="/assets/index.html-C5mIBrUP.js" as="script"><link rel="prefetch" href="/assets/index.html-BQdkzlx1.js" as="script"><link rel="prefetch" href="/assets/index.html-DOiZeNk0.js" as="script"><link rel="prefetch" href="/assets/index.html-CGJ8Fbej.js" as="script"><link rel="prefetch" href="/assets/index.html-9wDrTk8E.js" as="script"><link rel="prefetch" href="/assets/index.html-E_EGHGt_.js" as="script"><link rel="prefetch" href="/assets/index.html-D567rnCh.js" as="script"><link rel="prefetch" href="/assets/index.html-OzrAREdM.js" as="script"><link rel="prefetch" href="/assets/index.html-BmsTOGl_.js" as="script"><link rel="prefetch" href="/assets/index.html-Cd1xXFUh.js" as="script"><link rel="prefetch" href="/assets/29.SpringEnvironment抽象.html-BKVj2aij.js" as="script"><link rel="prefetch" href="/assets/index.html-7Zko1iXl.js" as="script"><link rel="prefetch" href="/assets/index.html-CQYzJ-ul.js" as="script"><link rel="prefetch" href="/assets/index.html-7TZhITL5.js" as="script"><link rel="prefetch" href="/assets/README.html-BnuSjCcP.js" as="script"><link rel="prefetch" href="/assets/01.Spring之数据源.html-CNfRSkx0.js" as="script"><link rel="prefetch" href="/assets/index.html-CCgecfkR.js" as="script"><link rel="prefetch" href="/assets/index.html-D7dPEA2Q.js" as="script"><link rel="prefetch" href="/assets/index.html-DuBHCoOF.js" as="script"><link rel="prefetch" href="/assets/index.html-3rfUwZ70.js" as="script"><link rel="prefetch" href="/assets/index.html-Cz3fxKzT.js" as="script"><link rel="prefetch" href="/assets/index.html-D84PQTHM.js" as="script"><link rel="prefetch" href="/assets/index.html-B-swqz8O.js" as="script"><link rel="prefetch" href="/assets/index.html-Cpfi7Y5s.js" as="script"><link rel="prefetch" href="/assets/index.html-B-Yj5rjh.js" as="script"><link rel="prefetch" href="/assets/index.html-D2gD07cW.js" as="script"><link rel="prefetch" href="/assets/index.html-Bgh0srO8.js" as="script"><link rel="prefetch" href="/assets/index.html-B4-03k1-.js" as="script"><link rel="prefetch" href="/assets/index.html-zYLsAK29.js" as="script"><link rel="prefetch" href="/assets/index.html-Bo3nPftb.js" as="script"><link rel="prefetch" href="/assets/index.html-DEqDBlm4.js" as="script"><link rel="prefetch" href="/assets/index.html-C2Ti_-ir.js" as="script"><link rel="prefetch" href="/assets/index.html-9GnuuFTM.js" as="script"><link rel="prefetch" href="/assets/index.html-DLLL5D2X.js" as="script"><link rel="prefetch" href="/assets/index.html-x1D7Wpl9.js" as="script"><link rel="prefetch" href="/assets/index.html-BUl_dwyk.js" as="script"><link rel="prefetch" href="/assets/index.html-CO-OOLSb.js" as="script"><link rel="prefetch" href="/assets/index.html-BehFW3k6.js" as="script"><link rel="prefetch" href="/assets/index.html-DZY_MWcY.js" as="script"><link rel="prefetch" href="/assets/index.html-B8V8c13Y.js" as="script"><link rel="prefetch" href="/assets/index.html-B5Q3CfOq.js" as="script"><link rel="prefetch" href="/assets/index.html-Bbf_WuZa.js" as="script"><link rel="prefetch" href="/assets/README.html-DJ34og4Z.js" as="script"><link rel="prefetch" href="/assets/index.html-J7FtOaXx.js" as="script"><link rel="prefetch" href="/assets/index.html-DqlULLna.js" as="script"><link rel="prefetch" href="/assets/index.html-JcWi5CBr.js" as="script"><link rel="prefetch" href="/assets/index.html-C0r6JQUF.js" as="script"><link rel="prefetch" href="/assets/jsch 入门.html-BK8OrPdR.js" as="script"><link rel="prefetch" href="/assets/01.Minio入门.html-CBqUKUmb.js" as="script"><link rel="prefetch" href="/assets/02.Minio案例.html-jpGF0hTX.js" as="script"><link rel="prefetch" href="/assets/03.MinioClient基本使用.html-BFzgxtpo.js" as="script"><link rel="prefetch" href="/assets/Netty01-nio.html-CfKiBJcQ.js" as="script"><link rel="prefetch" href="/assets/Netty02-入门.html-BUTPAKpx.js" as="script"><link rel="prefetch" href="/assets/Netty03-进阶.html-_5u6L3Zq.js" as="script"><link rel="prefetch" href="/assets/Netty04-优化与源码.html-CpJr5E-6.js" as="script"><link rel="prefetch" href="/assets/index.html-CMhWEZv1.js" as="script"><link rel="prefetch" href="/assets/index.html-EHcTulSy.js" as="script"><link rel="prefetch" href="/assets/index.html-Ab_zVE_b.js" as="script"><link rel="prefetch" href="/assets/index.html-DTkD8Sd0.js" as="script"><link rel="prefetch" href="/assets/index.html-Cy-ScMsB.js" as="script"><link rel="prefetch" href="/assets/index.html-CRMAYnFp.js" as="script"><link rel="prefetch" href="/assets/index.html-BDLKxJMe.js" as="script"><link rel="prefetch" href="/assets/index.html-DHQU6IEu.js" as="script"><link rel="prefetch" href="/assets/index.html-Bdn_D56T.js" as="script"><link rel="prefetch" href="/assets/index.html-CiJqS_39.js" as="script"><link rel="prefetch" href="/assets/index.html-EWrMrZSy.js" as="script"><link rel="prefetch" href="/assets/index.html-Bv9HhaCj.js" as="script"><link rel="prefetch" href="/assets/index.html-B_xA_hOq.js" as="script"><link rel="prefetch" href="/assets/index.html-BiQRy2Jb.js" as="script"><link rel="prefetch" href="/assets/index.html-AhtD_D8X.js" as="script"><link rel="prefetch" href="/assets/index.html-CC8YmYYL.js" as="script"><link rel="prefetch" href="/assets/index.html-IL1ACeGZ.js" as="script"><link rel="prefetch" href="/assets/index.html-Ckza1lbH.js" as="script"><link rel="prefetch" href="/assets/index.html-C_5khApv.js" as="script"><link rel="prefetch" href="/assets/index.html-CuUPe_ed.js" as="script"><link rel="prefetch" href="/assets/index.html-CVWFlg0W.js" as="script"><link rel="prefetch" href="/assets/index.html-hG7ORtH2.js" as="script"><link rel="prefetch" href="/assets/index.html-CNRIoeNK.js" as="script"><link rel="prefetch" href="/assets/index.html-CamZBXql.js" as="script"><link rel="prefetch" href="/assets/index.html-BMfiq-sz.js" as="script"><link rel="prefetch" href="/assets/index.html-BJ4rpKnL.js" as="script"><link rel="prefetch" href="/assets/index.html-C6bR0RNi.js" as="script"><link rel="prefetch" href="/assets/index.html-DvwnT_J_.js" as="script"><link rel="prefetch" href="/assets/index.html-Dim1nhU7.js" as="script"><link rel="prefetch" href="/assets/log日志.html-CdAdami7.js" as="script"><link rel="prefetch" href="/assets/类加载器.html-NcO3o0D7.js" as="script"><link rel="prefetch" href="/assets/xml.html-CEZbamm6.js" as="script"><link rel="prefetch" href="/assets/单元测试.html-DzAnJZM0.js" as="script"><link rel="prefetch" href="/assets/注解.html-DrIh66iw.js" as="script"><link rel="prefetch" href="/assets/day02-JavaScript-Vue.html-B7tKQPz6.js" as="script"><link rel="prefetch" href="/assets/day03_Vue_Element.html-YXZg6vph.js" as="script"><link rel="prefetch" href="/assets/数据库-MySQL-01.html-CUJk9poy.js" as="script"><link rel="prefetch" href="/assets/数据库-MySQL-02.html-Cn1XbnXH.js" as="script"><link rel="prefetch" href="/assets/Mybatis.html-DDPI5d_E.js" as="script"><link rel="prefetch" href="/assets/SpringBootWeb案例-1.html-Dgc-NLg6.js" as="script"><link rel="prefetch" href="/assets/SpringBootWeb案例-2.html-CxyE6CyA.js" as="script"><link rel="prefetch" href="/assets/SpringBootWeb登录认证.html-eBPOFba_.js" as="script"><link rel="prefetch" href="/assets/SpringBootWeb AOP.html-BxAkXf39.js" as="script"><link rel="prefetch" href="/assets/SpringBoot原理篇.html-D6jDlD6k.js" as="script"><link rel="prefetch" href="/assets/Maven高级.html-Co5IdKXO.js" as="script"><link rel="prefetch" href="/assets/Maven.html-BL7La9IN.js" as="script"><link rel="prefetch" href="/assets/SpringBootWeb入门.html-COhUyFEd.js" as="script"><link rel="prefetch" href="/assets/数据库-MySQL-03.html-B0llGESo.js" as="script"><link rel="prefetch" href="/assets/Mybatis入门.html-DpPm96Jm.js" as="script"><link rel="prefetch" href="/assets/404.html-4mYSfVLm.js" as="script"><link rel="prefetch" href="/assets/index.html-DNXUOpMp.js" as="script"><link rel="prefetch" href="/assets/index.html-CmugKT4y.js" as="script"><link rel="prefetch" href="/assets/index.html-B6BypSq5.js" as="script"><link rel="prefetch" href="/assets/index.html-DQ78bB8o.js" as="script"><link rel="prefetch" href="/assets/index.html-BpQcSzmW.js" as="script"><link rel="prefetch" href="/assets/index.html-QEg0_xTD.js" as="script"><link rel="prefetch" href="/assets/index.html-BEzzLERq.js" as="script"><link rel="prefetch" href="/assets/index.html-BS8lPjDv.js" as="script"><link rel="prefetch" href="/assets/index.html-DIV2Ugbk.js" as="script"><link rel="prefetch" href="/assets/index.html-D7Bng1IR.js" as="script"><link rel="prefetch" href="/assets/index.html-Bp2YNQxL.js" as="script"><link rel="prefetch" href="/assets/index.html-D6hH8HIG.js" as="script"><link rel="prefetch" href="/assets/index.html-DJu2ec5N.js" as="script"><link rel="prefetch" href="/assets/index.html-3ze8bAod.js" as="script"><link rel="prefetch" href="/assets/index.html-DpPE5RDG.js" as="script"><link rel="prefetch" href="/assets/index.html-Bd41uOdE.js" as="script"><link rel="prefetch" href="/assets/index.html-B25Lny-q.js" as="script"><link rel="prefetch" href="/assets/index.html-CAKQCgL6.js" as="script"><link rel="prefetch" href="/assets/index.html-CRsnsDZC.js" as="script"><link rel="prefetch" href="/assets/index.html-9mJ7JspP.js" as="script"><link rel="prefetch" href="/assets/index.html-D69gTAeC.js" as="script"><link rel="prefetch" href="/assets/index.html-D7MwWEQa.js" as="script"><link rel="prefetch" href="/assets/index.html-gRVrsu0g.js" as="script"><link rel="prefetch" href="/assets/index.html-CP0p4jfZ.js" as="script"><link rel="prefetch" href="/assets/index.html-CNxuTPjt.js" as="script"><link rel="prefetch" href="/assets/index.html-BccoLG5F.js" as="script"><link rel="prefetch" href="/assets/index.html-jWgQ4WMu.js" as="script"><link rel="prefetch" href="/assets/index.html-D2YxovU1.js" as="script"><link rel="prefetch" href="/assets/index.html-B4pAHAWQ.js" as="script"><link rel="prefetch" href="/assets/index.html-CpX0mXai.js" as="script"><link rel="prefetch" href="/assets/index.html-Bp1eDCVS.js" as="script"><link rel="prefetch" href="/assets/index.html-CZ0XDUZj.js" as="script"><link rel="prefetch" href="/assets/index.html-DUnbaBTg.js" as="script"><link rel="prefetch" href="/assets/index.html-DfqcwsXp.js" as="script"><link rel="prefetch" href="/assets/index.html-KyHDxmOj.js" as="script"><link rel="prefetch" href="/assets/index.html-px6Wwo9i.js" as="script"><link rel="prefetch" href="/assets/index.html-DWJC6PWM.js" as="script"><link rel="prefetch" href="/assets/index.html-Dv-bc7WS.js" as="script"><link rel="prefetch" href="/assets/index.html-D2e-mswN.js" as="script"><link rel="prefetch" href="/assets/index.html-WGzznqzb.js" as="script"><link rel="prefetch" href="/assets/index.html-Dcum8SA3.js" as="script"><link rel="prefetch" href="/assets/index.html-OiN2-jg1.js" as="script"><link rel="prefetch" href="/assets/index.html-CMROXR5l.js" as="script"><link rel="prefetch" href="/assets/index.html-BYkAzInn.js" as="script"><link rel="prefetch" href="/assets/index.html-Kn6Oqw2X.js" as="script"><link rel="prefetch" href="/assets/index.html-DzO3EbNt.js" as="script"><link rel="prefetch" href="/assets/index.html-9N_JZtfD.js" as="script"><link rel="prefetch" href="/assets/index.html-CwSyRQWF.js" as="script"><link rel="prefetch" href="/assets/index.html-ACIgW_wl.js" as="script"><link rel="prefetch" href="/assets/index.html-Ch-yDnwE.js" as="script"><link rel="prefetch" href="/assets/index.html-Cc5LoOcc.js" as="script"><link rel="prefetch" href="/assets/index.html-hdjemxCD.js" as="script"><link rel="prefetch" href="/assets/index.html-BWhKN68G.js" as="script"><link rel="prefetch" href="/assets/index.html-DFK6t968.js" as="script"><link rel="prefetch" href="/assets/index.html-BwY2E0Up.js" as="script"><link rel="prefetch" href="/assets/index.html-DjkHcHS2.js" as="script"><link rel="prefetch" href="/assets/index.html-Dut0NS5C.js" as="script"><link rel="prefetch" href="/assets/index.html-BwkDSPP-.js" as="script"><link rel="prefetch" href="/assets/index.html-C4-K_MjW.js" as="script"><link rel="prefetch" href="/assets/index.html-B30dAyZL.js" as="script"><link rel="prefetch" href="/assets/index.html-B9KWUbLr.js" as="script"><link rel="prefetch" href="/assets/index.html-Ck95WdbI.js" as="script"><link rel="prefetch" href="/assets/index.html-C8WyV3OY.js" as="script"><link rel="prefetch" href="/assets/index.html-BJf_KstL.js" as="script"><link rel="prefetch" href="/assets/index.html-8n1H983D.js" as="script"><link rel="prefetch" href="/assets/index.html-ByKJeo-E.js" as="script"><link rel="prefetch" href="/assets/index.html-C-yWVDqz.js" as="script"><link rel="prefetch" href="/assets/index.html-CmUThq9O.js" as="script"><link rel="prefetch" href="/assets/index.html-CBIbWMmU.js" as="script"><link rel="prefetch" href="/assets/index.html-BQ5T-C-e.js" as="script"><link rel="prefetch" href="/assets/index.html-BMFJOtPg.js" as="script"><link rel="prefetch" href="/assets/index.html-Btq_9REM.js" as="script"><link rel="prefetch" href="/assets/index.html-y3acPoJw.js" as="script"><link rel="prefetch" href="/assets/index.html-DfttyHkF.js" as="script"><link rel="prefetch" href="/assets/index.html-BKYdvbUh.js" as="script"><link rel="prefetch" href="/assets/index.html-DfYIW7r9.js" as="script"><link rel="prefetch" href="/assets/index.html-BIS5qJe6.js" as="script"><link rel="prefetch" href="/assets/index.html-B7AhrtSL.js" as="script"><link rel="prefetch" href="/assets/index.html-B9icIhvq.js" as="script"><link rel="prefetch" href="/assets/index.html-B3mOIDBU.js" as="script"><link rel="prefetch" href="/assets/index.html-C7JtvDuc.js" as="script"><link rel="prefetch" href="/assets/index.html-DcHkFeCg.js" as="script"><link rel="prefetch" href="/assets/index.html-BVoPd6Td.js" as="script"><link rel="prefetch" href="/assets/index.html-Cb3ac_dJ.js" as="script"><link rel="prefetch" href="/assets/index.html--iaEfYbt.js" as="script"><link rel="prefetch" href="/assets/index.html-BpdWqFHo.js" as="script"><link rel="prefetch" href="/assets/index.html-CNL1ti3O.js" as="script"><link rel="prefetch" href="/assets/index.html-D8BSh30O.js" as="script"><link rel="prefetch" href="/assets/index.html-4kJPHAUo.js" as="script"><link rel="prefetch" href="/assets/index.html-wMxbnhhN.js" as="script"><link rel="prefetch" href="/assets/index.html-DdBF7aR8.js" as="script"><link rel="prefetch" href="/assets/index.html-BhA_xjPH.js" as="script"><link rel="prefetch" href="/assets/index.html-BoRpAdFM.js" as="script"><link rel="prefetch" href="/assets/index.html-C7GJdMHl.js" as="script"><link rel="prefetch" href="/assets/index.html-s4rw1NfK.js" as="script"><link rel="prefetch" href="/assets/index.html-BGA7MO1H.js" as="script"><link rel="prefetch" href="/assets/index.html-DY3DtlLA.js" as="script"><link rel="prefetch" href="/assets/index.html-TWpUfsz_.js" as="script"><link rel="prefetch" href="/assets/index.html-DDbGMvMy.js" as="script"><link rel="prefetch" href="/assets/index.html-Bf_dBzFT.js" as="script"><link rel="prefetch" href="/assets/index.html-0j_zQ4s0.js" as="script"><link rel="prefetch" href="/assets/index.html-mpYVfoQ7.js" as="script"><link rel="prefetch" href="/assets/index.html-ZIVnKhV1.js" as="script"><link rel="prefetch" href="/assets/index.html-z3MswSIr.js" as="script"><link rel="prefetch" href="/assets/index.html-CpmCnEFr.js" as="script"><link rel="prefetch" href="/assets/index.html-S05AKRQW.js" as="script"><link rel="prefetch" href="/assets/index.html-BadoFR4K.js" as="script"><link rel="prefetch" href="/assets/index.html-BbeTTGX_.js" as="script"><link rel="prefetch" href="/assets/index.html-DHKAiG5r.js" as="script"><link rel="prefetch" href="/assets/index.html-B12L71ed.js" as="script"><link rel="prefetch" href="/assets/index.html-DyQHJTvG.js" as="script"><link rel="prefetch" href="/assets/index.html-BB83a6LN.js" as="script"><link rel="prefetch" href="/assets/index.html-B4fXUo1y.js" as="script"><link rel="prefetch" href="/assets/index.html-D6bBRLKH.js" as="script"><link rel="prefetch" href="/assets/index.html-CqFGYQ9E.js" as="script"><link rel="prefetch" href="/assets/index.html-K6kGcMzi.js" as="script"><link rel="prefetch" href="/assets/index.html-WhIjqx8k.js" as="script"><link rel="prefetch" href="/assets/index.html-DWeWV_fp.js" as="script"><link rel="prefetch" href="/assets/index.html-Bf9fb488.js" as="script"><link rel="prefetch" href="/assets/index.html-Cy3jbNfV.js" as="script"><link rel="prefetch" href="/assets/index.html-TIAln1Sq.js" as="script"><link rel="prefetch" href="/assets/index.html-Bj8AoLoQ.js" as="script"><link rel="prefetch" href="/assets/index.html-B0rRrshn.js" as="script"><link rel="prefetch" href="/assets/index.html-DYF206Nx.js" as="script"><link rel="prefetch" href="/assets/index.html-BBmgyGrK.js" as="script"><link rel="prefetch" href="/assets/index.html-PX4kfTV8.js" as="script"><link rel="prefetch" href="/assets/index.html-7tGjx7ya.js" as="script"><link rel="prefetch" href="/assets/index.html-BFlyCZGq.js" as="script"><link rel="prefetch" href="/assets/index.html-DCsLBwaR.js" as="script"><link rel="prefetch" href="/assets/index.html-BzjA3W99.js" as="script"><link rel="prefetch" href="/assets/index.html-C6kApFWO.js" as="script"><link rel="prefetch" href="/assets/index.html-C2y2Ir8c.js" as="script"><link rel="prefetch" href="/assets/index.html-OlVylxC7.js" as="script"><link rel="prefetch" href="/assets/index.html-vvAXFnZP.js" as="script"><link rel="prefetch" href="/assets/index.html-RlTMR6O3.js" as="script"><link rel="prefetch" href="/assets/index.html-BmgBlXd9.js" as="script"><link rel="prefetch" href="/assets/index.html-CDnQjLcW.js" as="script"><link rel="prefetch" href="/assets/index.html-DXgaSDRv.js" as="script"><link rel="prefetch" href="/assets/index.html-D03D9Mq-.js" as="script"><link rel="prefetch" href="/assets/index.html-D_FjW8Di.js" as="script"><link rel="prefetch" href="/assets/index.html-BJXVaPkA.js" as="script"><link rel="prefetch" href="/assets/index.html-DDmd_OLM.js" as="script"><link rel="prefetch" href="/assets/index.html-B3-APlGU.js" as="script"><link rel="prefetch" href="/assets/index.html-DX9BZOkn.js" as="script"><link rel="prefetch" href="/assets/index.html-KjyEbStd.js" as="script"><link rel="prefetch" href="/assets/index.html-BQkNFopI.js" as="script"><link rel="prefetch" href="/assets/index.html-Cdz_um6C.js" as="script"><link rel="prefetch" href="/assets/index.html-Ke8xkDe8.js" as="script"><link rel="prefetch" href="/assets/index.html-CoEAWPmo.js" as="script"><link rel="prefetch" href="/assets/index.html-BWjXC7R6.js" as="script"><link rel="prefetch" href="/assets/index.html-DyzbwNQW.js" as="script"><link rel="prefetch" href="/assets/index.html-DYsx-eKX.js" as="script"><link rel="prefetch" href="/assets/index.html-DTwB8IVE.js" as="script"><link rel="prefetch" href="/assets/index.html-BM5FFl7c.js" as="script"><link rel="prefetch" href="/assets/index.html-BiGi2TTi.js" as="script"><link rel="prefetch" href="/assets/index.html-CNj4f163.js" as="script"><link rel="prefetch" href="/assets/index.html-eD5m1EfX.js" as="script"><link rel="prefetch" href="/assets/index.html-Ccd-yixc.js" as="script"><link rel="prefetch" href="/assets/index.html-Cc9NUGqG.js" as="script"><link rel="prefetch" href="/assets/index.html-DnlYFZp-.js" as="script"><link rel="prefetch" href="/assets/index.html-CNj4f163.js" as="script"><link rel="prefetch" href="/assets/index.html-BE5Se3RL.js" as="script"><link rel="prefetch" href="/assets/index.html-4uu7uyJI.js" as="script"><link rel="prefetch" href="/assets/index.html-Bc5Ykg9I.js" as="script"><link rel="prefetch" href="/assets/index.html-ZutpJ9c8.js" as="script"><link rel="prefetch" href="/assets/index.html-DTdw421e.js" as="script"><link rel="prefetch" href="/assets/index.html-D1xPpzdq.js" as="script"><link rel="prefetch" href="/assets/index.html-DC1cx-KV.js" as="script"><link rel="prefetch" href="/assets/index.html-D2ES5FxW.js" as="script"><link rel="prefetch" href="/assets/index.html-BnpZsEwP.js" as="script"><link rel="prefetch" href="/assets/index.html-CYzMKaqd.js" as="script"><link rel="prefetch" href="/assets/index.html-qobrMaMW.js" as="script"><link rel="prefetch" href="/assets/index.html-D-ckzycG.js" as="script"><link rel="prefetch" href="/assets/index.html-CUO0IlYo.js" as="script"><link rel="prefetch" href="/assets/index.html-DkK6ZQz3.js" as="script"><link rel="prefetch" href="/assets/index.html-DXTX5_GG.js" as="script"><link rel="prefetch" href="/assets/index.html-tq-Rkyfn.js" as="script"><link rel="prefetch" href="/assets/index.html-CgxzqESn.js" as="script"><link rel="prefetch" href="/assets/index.html-CRcP2m3M.js" as="script"><link rel="prefetch" href="/assets/index.html-2YhIg5YV.js" as="script"><link rel="prefetch" href="/assets/index.html-F1sPSvu2.js" as="script"><link rel="prefetch" href="/assets/index.html-CCBwjfOp.js" as="script"><link rel="prefetch" href="/assets/index.html-9AisozEJ.js" as="script"><link rel="prefetch" href="/assets/index.html-C648jJeb.js" as="script"><link rel="prefetch" href="/assets/index.html-Dg5yyDpZ.js" as="script"><link rel="prefetch" href="/assets/index.html-BNBMIOS3.js" as="script"><link rel="prefetch" href="/assets/index.html-BM7iEU9B.js" as="script"><link rel="prefetch" href="/assets/index.html-rV76Cimb.js" as="script"><link rel="prefetch" href="/assets/index.html-DqQ0AZsV.js" as="script"><link rel="prefetch" href="/assets/index.html-DTVSvD7u.js" as="script"><link rel="prefetch" href="/assets/index.html-8Ya0yWUI.js" as="script"><link rel="prefetch" href="/assets/index.html-DTSeGP2m.js" as="script"><link rel="prefetch" href="/assets/index.html-Dw96hZd5.js" as="script"><link rel="prefetch" href="/assets/index.html-CSkDkzV5.js" as="script"><link rel="prefetch" href="/assets/index.html-qIWk6Z3u.js" as="script"><link rel="prefetch" href="/assets/index.html-Dhk8Zsnc.js" as="script"><link rel="prefetch" href="/assets/index.html-DDaiDiBc.js" as="script"><link rel="prefetch" href="/assets/index.html-BpbgdaFf.js" as="script"><link rel="prefetch" href="/assets/index.html-DeNPb4eH.js" as="script"><link rel="prefetch" href="/assets/index.html-F-hxNpi5.js" as="script"><link rel="prefetch" href="/assets/index.html-BQjuxBR_.js" as="script"><link rel="prefetch" href="/assets/index.html-C3FiWT41.js" as="script"><link rel="prefetch" href="/assets/index.html-Cv6FZSrP.js" as="script"><link rel="prefetch" href="/assets/index.html-o-4-rIlA.js" as="script"><link rel="prefetch" href="/assets/index.html-e-wM76z3.js" as="script"><link rel="prefetch" href="/assets/index.html-C7NAvKpn.js" as="script"><link rel="prefetch" href="/assets/index.html-C92ZRX-7.js" as="script"><link rel="prefetch" href="/assets/index.html-DGuifFa4.js" as="script"><link rel="prefetch" href="/assets/index.html-0y5J5Hia.js" as="script"><link rel="prefetch" href="/assets/index.html-DaO0KkFZ.js" as="script"><link rel="prefetch" href="/assets/index.html-KCTk6Ek1.js" as="script"><link rel="prefetch" href="/assets/index.html-BlTFO2YE.js" as="script"><link rel="prefetch" href="/assets/index.html-CQUngcJx.js" as="script"><link rel="prefetch" href="/assets/index.html-DOtIjpln.js" as="script"><link rel="prefetch" href="/assets/index.html-CaVgZtAH.js" as="script"><link rel="prefetch" href="/assets/index.html-BThaTwqM.js" as="script"><link rel="prefetch" href="/assets/index.html-L2gKQ8VQ.js" as="script"><link rel="prefetch" href="/assets/index.html-CxipR5Ak.js" as="script"><link rel="prefetch" href="/assets/index.html-Bw4Zc7P2.js" as="script"><link rel="prefetch" href="/assets/index.html-BR9cMFCu.js" as="script"><link rel="prefetch" href="/assets/index.html-BezvMuve.js" as="script"><link rel="prefetch" href="/assets/index.html-Gu2drsox.js" as="script"><link rel="prefetch" href="/assets/index.html-Cuwin3dN.js" as="script"><link rel="prefetch" href="/assets/index.html-kYHOt-0e.js" as="script"><link rel="prefetch" href="/assets/index.html-CoJngb1G.js" as="script"><link rel="prefetch" href="/assets/index.html-Cuwin3dN.js" as="script"><link rel="prefetch" href="/assets/index.html-BxqsZQ6X.js" as="script"><link rel="prefetch" href="/assets/index.html-BqKptv2F.js" as="script"><link rel="prefetch" href="/assets/index.html-Cj_tDiqi.js" as="script"><link rel="prefetch" href="/assets/index.html-CrPi3zKY.js" as="script"><link rel="prefetch" href="/assets/index.html-BAvFD6yW.js" as="script"><link rel="prefetch" href="/assets/index.html-CzczIrcf.js" as="script"><link rel="prefetch" href="/assets/index.html-CIX4ONcv.js" as="script"><link rel="prefetch" href="/assets/index.html-BXSpvB2H.js" as="script"><link rel="prefetch" href="/assets/index.html-CxubGrkG.js" as="script"><link rel="prefetch" href="/assets/index.html-CDi5wic2.js" as="script"><link rel="prefetch" href="/assets/index.html-WgVteXHO.js" as="script"><link rel="prefetch" href="/assets/index.html-MMNWfmAG.js" as="script"><link rel="prefetch" href="/assets/index.html-C3LDXaGr.js" as="script"><link rel="prefetch" href="/assets/index.html-V5YiWua4.js" as="script"><link rel="prefetch" href="/assets/index.html-B2eon8wE.js" as="script"><link rel="prefetch" href="/assets/index.html-Dw6opKty.js" as="script"><link rel="prefetch" href="/assets/index.html-YbXBIcle.js" as="script"><link rel="prefetch" href="/assets/index.html-DJsOLS_R.js" as="script"><link rel="prefetch" href="/assets/index.html-DTqO0fa6.js" as="script"><link rel="prefetch" href="/assets/index.html-b-JuMj0-.js" as="script"><link rel="prefetch" href="/assets/index.html-BCudf5d2.js" as="script"><link rel="prefetch" href="/assets/index.html-D-ckzycG.js" as="script"><link rel="prefetch" href="/assets/index.html-BaQWnrfJ.js" as="script"><link rel="prefetch" href="/assets/index.html-BVhs2qOZ.js" as="script"><link rel="prefetch" href="/assets/index.html-CUO0IlYo.js" as="script"><link rel="prefetch" href="/assets/index.html-CzNJNY9A.js" as="script"><link rel="prefetch" href="/assets/index.html-DsaKqghy.js" as="script"><link rel="prefetch" href="/assets/index.html-0IfPxBfX.js" as="script"><link rel="prefetch" href="/assets/index.html-aQpci40S.js" as="script"><link rel="prefetch" href="/assets/index.html-szsxbD_i.js" as="script"><link rel="prefetch" href="/assets/index.html-Cc9NUGqG.js" as="script"><link rel="prefetch" href="/assets/index.html-Dhq_P_Ji.js" as="script"><link rel="prefetch" href="/assets/index.html-DmIBQWEU.js" as="script"><link rel="prefetch" href="/assets/index.html-BtWbSxnE.js" as="script"><link rel="prefetch" href="/assets/index.html-lnjpWZzb.js" as="script"><link rel="prefetch" href="/assets/index.html-Bh-6CR-v.js" as="script"><link rel="prefetch" href="/assets/index.html-D3cYDQ42.js" as="script"><link rel="prefetch" href="/assets/index.html-C6hwd3zy.js" as="script"><link rel="prefetch" href="/assets/index.html-CORLmEYv.js" as="script"><link rel="prefetch" href="/assets/index.html-D33uFe5C.js" as="script"><link rel="prefetch" href="/assets/index.html-DpVOj3au.js" as="script"><link rel="prefetch" href="/assets/index.html-DjFjt5XQ.js" as="script"><link rel="prefetch" href="/assets/index.html-Bd2IGaMi.js" as="script"><link rel="prefetch" href="/assets/index.html-C-QhyQ1v.js" as="script"><link rel="prefetch" href="/assets/index.html-CcZfzWIO.js" as="script"><link rel="prefetch" href="/assets/index.html-_512Gi_2.js" as="script"><link rel="prefetch" href="/assets/index.html-CvmFBs0m.js" as="script"><link rel="prefetch" href="/assets/index.html-BoHMcoLj.js" as="script"><link rel="prefetch" href="/assets/index.html-DAuKY4Ci.js" as="script"><link rel="prefetch" href="/assets/index.html-bmck59hk.js" as="script"><link rel="prefetch" href="/assets/index.html-CrPi3zKY.js" as="script"><link rel="prefetch" href="/assets/index.html-GEf4jSml.js" as="script"><link rel="prefetch" href="/assets/index.html-C4EnmdkW.js" as="script"><link rel="prefetch" href="/assets/index.html-CvJUuwNe.js" as="script"><link rel="prefetch" href="/assets/index.html-DJ6rslwF.js" as="script"><link rel="prefetch" href="/assets/index.html-Eu7N9A51.js" as="script"><link rel="prefetch" href="/assets/index.html-B-wP0tzW.js" as="script"><link rel="prefetch" href="/assets/index.html-QZBqzNSd.js" as="script"><link rel="prefetch" href="/assets/index.html-CkNuRCBO.js" as="script"><link rel="prefetch" href="/assets/index.html-GHVtbcYT.js" as="script"><link rel="prefetch" href="/assets/index.html-CtQt5m2j.js" as="script"><link rel="prefetch" href="/assets/index.html-DJ63lrp2.js" as="script"><link rel="prefetch" href="/assets/index.html-cr3_JF7L.js" as="script"><link rel="prefetch" href="/assets/index.html-A6tp1WLh.js" as="script"><link rel="prefetch" href="/assets/index.html-CSeuBwpY.js" as="script"><link rel="prefetch" href="/assets/index.html-N4OSkkpD.js" as="script"><link rel="prefetch" href="/assets/index.html-CTHvgr4r.js" as="script"><link rel="prefetch" href="/assets/index.html-DyP2hjbl.js" as="script"><link rel="prefetch" href="/assets/index.html-C8rOhQKi.js" as="script"><link rel="prefetch" href="/assets/index.html-C0qscRsT.js" as="script"><link rel="prefetch" href="/assets/index.html-CtQt5m2j.js" as="script"><link rel="prefetch" href="/assets/index.html-NkCSWkXw.js" as="script"><link rel="prefetch" href="/assets/index.html-DGPdvO89.js" as="script"><link rel="prefetch" href="/assets/index.html-IDqZeNpA.js" as="script"><link rel="prefetch" href="/assets/index.html-B1Ne7MZT.js" as="script"><link rel="prefetch" href="/assets/index.html-DeNgi6QH.js" as="script"><link rel="prefetch" href="/assets/index.html-DjCOirlI.js" as="script"><link rel="prefetch" href="/assets/index.html-Bgy9cVGN.js" as="script"><link rel="prefetch" href="/assets/index.html-CtAT-qG5.js" as="script"><link rel="prefetch" href="/assets/index.html-B-Y8eCVG.js" as="script"><link rel="prefetch" href="/assets/index.html-BusYUY7C.js" as="script"><link rel="prefetch" href="/assets/index.html-CR7GphR1.js" as="script"><link rel="prefetch" href="/assets/index.html-DTchmunV.js" as="script"><link rel="prefetch" href="/assets/index.html-Fizc27Qs.js" as="script"><link rel="prefetch" href="/assets/index.html-CuVN615Q.js" as="script"><link rel="prefetch" href="/assets/index.html-DZZxxI9L.js" as="script"><link rel="prefetch" href="/assets/index.html-C63wXYzY.js" as="script"><link rel="prefetch" href="/assets/index.html-yS1E_n7j.js" as="script"><link rel="prefetch" href="/assets/index.html-DIPNwD78.js" as="script"><link rel="prefetch" href="/assets/index.html-C9_Peqz2.js" as="script"><link rel="prefetch" href="/assets/index.html-DCWQNkQH.js" as="script"><link rel="prefetch" href="/assets/index.html-C-kwL-HK.js" as="script"><link rel="prefetch" href="/assets/index.html-C1RoWCFx.js" as="script"><link rel="prefetch" href="/assets/index.html-CjmKDDwP.js" as="script"><link rel="prefetch" href="/assets/index.html-CQFxMFw-.js" as="script"><link rel="prefetch" href="/assets/index.html-D6HyFt2O.js" as="script"><link rel="prefetch" href="/assets/index.html-nnp4ga0x.js" as="script"><link rel="prefetch" href="/assets/index.html-MCUd60PA.js" as="script"><link rel="prefetch" href="/assets/index.html-COJxYqOB.js" as="script"><link rel="prefetch" href="/assets/index.html-DEe0uwOg.js" as="script"><link rel="prefetch" href="/assets/index.html-C6ym4tUi.js" as="script"><link rel="prefetch" href="/assets/index.html-BnzYqg3h.js" as="script"><link rel="prefetch" href="/assets/index.html-DV1BK9G3.js" as="script"><link rel="prefetch" href="/assets/index.html-DFbxeeYG.js" as="script"><link rel="prefetch" href="/assets/index.html-Bm39OMcO.js" as="script"><link rel="prefetch" href="/assets/index.html-Cw5NOC9P.js" as="script"><link rel="prefetch" href="/assets/index.html-G4mb-Ref.js" as="script"><link rel="prefetch" href="/assets/index.html-PMv6GnGr.js" as="script"><link rel="prefetch" href="/assets/index.html-CvM1LmVb.js" as="script"><link rel="prefetch" href="/assets/index.html-DBriLp22.js" as="script"><link rel="prefetch" href="/assets/index.html-Bs33l6eG.js" as="script"><link rel="prefetch" href="/assets/index.html-D5HPDxi3.js" as="script"><link rel="prefetch" href="/assets/index.html-BcXsYULx.js" as="script"><link rel="prefetch" href="/assets/index.html-CrzJ-5jv.js" as="script"><link rel="prefetch" href="/assets/index.html-DdZGf2M4.js" as="script"><link rel="prefetch" href="/assets/index.html-Bi0Eo1Ai.js" as="script"><link rel="prefetch" href="/assets/index.html-DkjfmyK3.js" as="script"><link rel="prefetch" href="/assets/index.html--1szLN8u.js" as="script"><link rel="prefetch" href="/assets/index.html-meyrVOAl.js" as="script"><link rel="prefetch" href="/assets/index.html-BELjuaQS.js" as="script"><link rel="prefetch" href="/assets/index.html-DYG76zFo.js" as="script"><link rel="prefetch" href="/assets/index.html-DShIsUU8.js" as="script"><link rel="prefetch" href="/assets/index.html-C74nDoBy.js" as="script"><link rel="prefetch" href="/assets/index.html-BlnisqkJ.js" as="script"><link rel="prefetch" href="/assets/index.html-GTJ7CilZ.js" as="script"><link rel="prefetch" href="/assets/index.html-hvT15gM6.js" as="script"><link rel="prefetch" href="/assets/index.html-BG3-7aGf.js" as="script"><link rel="prefetch" href="/assets/index.html-DxZTMuQ9.js" as="script"><link rel="prefetch" href="/assets/index.html-D_iUIDkp.js" as="script"><link rel="prefetch" href="/assets/index.html-ynJVCIZL.js" as="script"><link rel="prefetch" href="/assets/index.html-BXT_t57q.js" as="script"><link rel="prefetch" href="/assets/index.html-BPx371l0.js" as="script"><link rel="prefetch" href="/assets/index.html-UaaLFU9K.js" as="script"><link rel="prefetch" href="/assets/index.html-CFmshkBO.js" as="script"><link rel="prefetch" href="/assets/index.html-OSH9PDBV.js" as="script"><link rel="prefetch" href="/assets/index.html-CNlUd0Ge.js" as="script"><link rel="prefetch" href="/assets/index.html-DvFZ0ptb.js" as="script"><link rel="prefetch" href="/assets/index.html-CwN_XHJo.js" as="script"><link rel="prefetch" href="/assets/index.html-5kP55iqo.js" as="script"><link rel="prefetch" href="/assets/index.html-Cga7wwMO.js" as="script"><link rel="prefetch" href="/assets/index.html-DgAd9rCP.js" as="script"><link rel="prefetch" href="/assets/index.html-Cy9M7pNf.js" as="script"><link rel="prefetch" href="/assets/index.html-D7gKZtGi.js" as="script"><link rel="prefetch" href="/assets/index.html-BDbnI_E7.js" as="script"><link rel="prefetch" href="/assets/index.html-uzrTnmu_.js" as="script"><link rel="prefetch" href="/assets/index.html-CcIhbYFN.js" as="script"><link rel="prefetch" href="/assets/index.html-D2_5ROPW.js" as="script"><link rel="prefetch" href="/assets/index.html-CCrgpTYI.js" as="script"><link rel="prefetch" href="/assets/index.html-BdqVMJl0.js" as="script"><link rel="prefetch" href="/assets/index.html-D4nJ51jd.js" as="script"><link rel="prefetch" href="/assets/index.html-DH5dOsKD.js" as="script"><link rel="prefetch" href="/assets/index.html-C0qscRsT.js" as="script"><link rel="prefetch" href="/assets/index.html-Cu9e0rST.js" as="script"><link rel="prefetch" href="/assets/index.html-CTQAGJCZ.js" as="script"><link rel="prefetch" href="/assets/index.html-vWdWR7Aj.js" as="script"><link rel="prefetch" href="/assets/index.html-C_X8sm_g.js" as="script"><link rel="prefetch" href="/assets/index.html-qtJrLISD.js" as="script"><link rel="prefetch" href="/assets/index.html-BBNyH2-v.js" as="script"><link rel="prefetch" href="/assets/index.html-CflBswcT.js" as="script"><link rel="prefetch" href="/assets/index.html-BlYZNjFy.js" as="script"><link rel="prefetch" href="/assets/index.html-Ce3uT-sX.js" as="script"><link rel="prefetch" href="/assets/index.html-De6O3AI6.js" as="script"><link rel="prefetch" href="/assets/index.html-C1bWVHN3.js" as="script"><link rel="prefetch" href="/assets/index.html-Bd_WQKv3.js" as="script"><link rel="prefetch" href="/assets/index.html-2PSOnhud.js" as="script"><link rel="prefetch" href="/assets/index.html-BvV82Vdu.js" as="script"><link rel="prefetch" href="/assets/index.html-BvpNMYyY.js" as="script"><link rel="prefetch" href="/assets/index.html-BZzXt2VT.js" as="script"><link rel="prefetch" href="/assets/index.html-BakMOB0o.js" as="script"><link rel="prefetch" href="/assets/index.html-DYvbq7km.js" as="script"><link rel="prefetch" href="/assets/index.html-BgQ1Riu9.js" as="script"><link rel="prefetch" href="/assets/index.html-DsHuNqPq.js" as="script"><link rel="prefetch" href="/assets/index.html-CKXiByND.js" as="script"><link rel="prefetch" href="/assets/index.html-CY0086tN.js" as="script"><link rel="prefetch" href="/assets/index.html-CZjiGb1g.js" as="script"><link rel="prefetch" href="/assets/index.html-CoZDeuIn.js" as="script"><link rel="prefetch" href="/assets/index.html-BR7Uj6Yv.js" as="script"><link rel="prefetch" href="/assets/index.html-BQZUJSia.js" as="script"><link rel="prefetch" href="/assets/index.html-DxLW9G8x.js" as="script"><link rel="prefetch" href="/assets/index.html-Da6Tu8Gk.js" as="script"><link rel="prefetch" href="/assets/index.html-vPDZd968.js" as="script"><link rel="prefetch" href="/assets/index.html-CxjEbYTx.js" as="script"><link rel="prefetch" href="/assets/index.html-BsiqQnKo.js" as="script"><link rel="prefetch" href="/assets/index.html-ByyAPr3i.js" as="script"><link rel="prefetch" href="/assets/index.html-DhXnYOP2.js" as="script"><link rel="prefetch" href="/assets/index.html-gXP-OM4u.js" as="script"><link rel="prefetch" href="/assets/index.html-DGKiV7GA.js" as="script"><link rel="prefetch" href="/assets/index.html-CU0pYKu_.js" as="script"><link rel="prefetch" href="/assets/index.html-C-ZWyKAl.js" as="script"><link rel="prefetch" href="/assets/index.html-CIXKIh2h.js" as="script"><link rel="prefetch" href="/assets/index.html-BFbmzybn.js" as="script"><link rel="prefetch" href="/assets/index.html-D3rwj68t.js" as="script"><link rel="prefetch" href="/assets/index.html-Ckw3IPZw.js" as="script"><link rel="prefetch" href="/assets/index.html-DEgpou42.js" as="script"><link rel="prefetch" href="/assets/index.html-BX0X1loR.js" as="script"><link rel="prefetch" href="/assets/index.html-_uNmMwYn.js" as="script"><link rel="prefetch" href="/assets/index.html-BmJRMPOI.js" as="script"><link rel="prefetch" href="/assets/index.html-CbV2dps9.js" as="script"><link rel="prefetch" href="/assets/index.html-NkCSWkXw.js" as="script"><link rel="prefetch" href="/assets/index.html-DGPdvO89.js" as="script"><link rel="prefetch" href="/assets/index.html-D51PQNBN.js" as="script"><link rel="prefetch" href="/assets/index.html-SLtLO3Vv.js" as="script"><link rel="prefetch" href="/assets/index.html-D0KUrTrl.js" as="script"><link rel="prefetch" href="/assets/index.html-DCWQNkQH.js" as="script"><link rel="prefetch" href="/assets/index.html-wXPH4YiQ.js" as="script"><link rel="prefetch" href="/assets/index.html-F6RE-yhD.js" as="script"><link rel="prefetch" href="/assets/index.html-DtJHDRrJ.js" as="script"><link rel="prefetch" href="/assets/index.html-DCAwx1Mw.js" as="script"><link rel="prefetch" href="/assets/index.html-tL368ETs.js" as="script"><link rel="prefetch" href="/assets/index.html-BtkQw76S.js" as="script"><link rel="prefetch" href="/assets/index.html-DsB2RH5A.js" as="script"><link rel="prefetch" href="/assets/index.html-DxuFqHfl.js" as="script"><link rel="prefetch" href="/assets/index.html-CASXY-C-.js" as="script"><link rel="prefetch" href="/assets/index.html-DHBcDjm2.js" as="script"><link rel="prefetch" href="/assets/index.html-B2ljgYkr.js" as="script"><link rel="prefetch" href="/assets/index.html-DbnPLyqd.js" as="script"><link rel="prefetch" href="/assets/index.html-ZvOOVDFI.js" as="script"><link rel="prefetch" href="/assets/index.html-DbnPLyqd.js" as="script"><link rel="prefetch" href="/assets/index.html-IKli2Uz5.js" as="script"><link rel="prefetch" href="/assets/index.html-s5qEWynH.js" as="script"><link rel="prefetch" href="/assets/index.html-BUHnftQR.js" as="script"><link rel="prefetch" href="/assets/index.html-C4wF8Gmp.js" as="script"><link rel="prefetch" href="/assets/index.html-DiaHg8bw.js" as="script"><link rel="prefetch" href="/assets/index.html-DQyDiUSB.js" as="script"><link rel="prefetch" href="/assets/index.html-DPKPVkMA.js" as="script"><link rel="prefetch" href="/assets/index.html-B3YIePTF.js" as="script"><link rel="prefetch" href="/assets/index.html-ClXkjDAP.js" as="script"><link rel="prefetch" href="/assets/index.html-Bw3U8SFo.js" as="script"><link rel="prefetch" href="/assets/index.html-BG0pv1Lw.js" as="script"><link rel="prefetch" href="/assets/index.html-BDYaXz5e.js" as="script"><link rel="prefetch" href="/assets/index.html-D43GEVXx.js" as="script"><link rel="prefetch" href="/assets/index.html-ICp_xcYj.js" as="script"><link rel="prefetch" href="/assets/index.html-C325kApW.js" as="script"><link rel="prefetch" href="/assets/index.html-CAduHG2V.js" as="script"><link rel="prefetch" href="/assets/index.html-DxonkPBg.js" as="script"><link rel="prefetch" href="/assets/index.html-CTSjI1TL.js" as="script"><link rel="prefetch" href="/assets/index.html-CnrqnO8h.js" as="script"><link rel="prefetch" href="/assets/index.html-B3v51Tb3.js" as="script"><link rel="prefetch" href="/assets/index.html-m_IgFrJ6.js" as="script"><link rel="prefetch" href="/assets/index.html-BNb-FrlY.js" as="script"><link rel="prefetch" href="/assets/index.html-DsPHSTbw.js" as="script"><link rel="prefetch" href="/assets/index.html-DS-5-mVy.js" as="script"><link rel="prefetch" href="/assets/index.html-CJHVENsn.js" as="script"><link rel="prefetch" href="/assets/index.html-fpwkt1QB.js" as="script"><link rel="prefetch" href="/assets/index.html-q8zdxgee.js" as="script"><link rel="prefetch" href="/assets/index.html-DWstA4XB.js" as="script"><link rel="prefetch" href="/assets/index.html-D3-KSa-2.js" as="script"><link rel="prefetch" href="/assets/index.html-DS-5-mVy.js" as="script"><link rel="prefetch" href="/assets/index.html-gxEwtD6e.js" as="script"><link rel="prefetch" href="/assets/index.html-DeyWpeRC.js" as="script"><link rel="prefetch" href="/assets/index.html-OSNDoMLb.js" as="script"><link rel="prefetch" href="/assets/index.html-GvpettQK.js" as="script"><link rel="prefetch" href="/assets/index.html-WVhi4_9R.js" as="script"><link rel="prefetch" href="/assets/index.html-APqpakRd.js" as="script"><link rel="prefetch" href="/assets/index.html-C-FzUvGt.js" as="script"><link rel="prefetch" href="/assets/index.html-Bttz49Me.js" as="script"><link rel="prefetch" href="/assets/index.html-DDXSKe_i.js" as="script"><link rel="prefetch" href="/assets/index.html-HH_WeHhj.js" as="script"><link rel="prefetch" href="/assets/index.html-8ipTBFCk.js" as="script"><link rel="prefetch" href="/assets/index.html-Bk6tbUmM.js" as="script"><link rel="prefetch" href="/assets/index.html-D3-KSa-2.js" as="script"><link rel="prefetch" href="/assets/index.html-BYYgxWph.js" as="script"><link rel="prefetch" href="/assets/index.html-B9BDUu6s.js" as="script"><link rel="prefetch" href="/assets/index.html-C6JWxfj6.js" as="script"><link rel="prefetch" href="/assets/index.html-B4LPgKgR.js" as="script"><link rel="prefetch" href="/assets/index.html-5tb8Dyp9.js" as="script"><link rel="prefetch" href="/assets/index.html-1KMVMQbW.js" as="script"><link rel="prefetch" href="/assets/index.html-BvaS1vLD.js" as="script"><link rel="prefetch" href="/assets/index.html-B47yvW8O.js" as="script"><link rel="prefetch" href="/assets/index.html-DvaJUZIE.js" as="script"><link rel="prefetch" href="/assets/index.html-DsB2RH5A.js" as="script"><link rel="prefetch" href="/assets/index.html-BO2FRzNQ.js" as="script"><link rel="prefetch" href="/assets/index.html-B8sa3wrW.js" as="script"><link rel="prefetch" href="/assets/index.html-BTf4y3zT.js" as="script"><link rel="prefetch" href="/assets/index.html-BETNz48r.js" as="script"><link rel="prefetch" href="/assets/index.html-BeuDX95z.js" as="script"><link rel="prefetch" href="/assets/index.html-D5YSi8-n.js" as="script"><link rel="prefetch" href="/assets/index.html-CZ0zO5RU.js" as="script"><link rel="prefetch" href="/assets/index.html-xlQkX0MS.js" as="script"><link rel="prefetch" href="/assets/index.html-BGKFgwDy.js" as="script"><link rel="prefetch" href="/assets/index.html-D9za21K6.js" as="script"><link rel="prefetch" href="/assets/index.html-Dv3EoD1r.js" as="script"><link rel="prefetch" href="/assets/index.html-CeDeswQI.js" as="script"><link rel="prefetch" href="/assets/index.html-Cl3FFJyd.js" as="script"><link rel="prefetch" href="/assets/index.html-DG8ukt2D.js" as="script"><link rel="prefetch" href="/assets/index.html-BWsaOco3.js" as="script"><link rel="prefetch" href="/assets/index.html-CsWTF3b7.js" as="script"><link rel="prefetch" href="/assets/index.html-tU7cyN8k.js" as="script"><link rel="prefetch" href="/assets/index.html-BooH8rha.js" as="script"><link rel="prefetch" href="/assets/index.html-DSqv1rEy.js" as="script"><link rel="prefetch" href="/assets/index.html-Be8E3NT6.js" as="script"><link rel="prefetch" href="/assets/index.html-TR6Jf3SG.js" as="script"><link rel="prefetch" href="/assets/index.html-CnKlCvzk.js" as="script"><link rel="prefetch" href="/assets/index.html-Bie1FX19.js" as="script"><link rel="prefetch" href="/assets/index.html-DEE8rMcd.js" as="script"><link rel="prefetch" href="/assets/index.html-DiTaBSAJ.js" as="script"><link rel="prefetch" href="/assets/index.html-BM_YatMX.js" as="script"><link rel="prefetch" href="/assets/index.html-CeemEghs.js" as="script"><link rel="prefetch" href="/assets/index.html-CZc-DDA5.js" as="script"><link rel="prefetch" href="/assets/index.html-B9eBApXi.js" as="script"><link rel="prefetch" href="/assets/index.html-CVjV52Le.js" as="script"><link rel="prefetch" href="/assets/index.html-BHDUbWbb.js" as="script"><link rel="prefetch" href="/assets/index.html-148pwR0F.js" as="script"><link rel="prefetch" href="/assets/index.html-DTjx7L8_.js" as="script"><link rel="prefetch" href="/assets/index.html-BlDScDSe.js" as="script"><link rel="prefetch" href="/assets/index.html-D19g5ChZ.js" as="script"><link rel="prefetch" href="/assets/index.html-DnSkhA9g.js" as="script"><link rel="prefetch" href="/assets/index.html-BDbnI_E7.js" as="script"><link rel="prefetch" href="/assets/index.html-BXNLtHNb.js" as="script"><link rel="prefetch" href="/assets/index.html-C0i6w40O.js" as="script"><link rel="prefetch" href="/assets/index.html-DR11qIWB.js" as="script"><link rel="prefetch" href="/assets/index.html-C9_Peqz2.js" as="script"><link rel="prefetch" href="/assets/index.html-DGZ3_Qn4.js" as="script"><link rel="prefetch" href="/assets/index.html-BNFYIxqH.js" as="script"><link rel="prefetch" href="/assets/index.html-DWKGJ_Va.js" as="script"><link rel="prefetch" href="/assets/index.html-BpaSMB5n.js" as="script"><link rel="prefetch" href="/assets/index.html-CcmUuAat.js" as="script"><link rel="prefetch" href="/assets/index.html-Dut3KSZ_.js" as="script"><link rel="prefetch" href="/assets/index.html-CILB9K4Z.js" as="script"><link rel="prefetch" href="/assets/index.html-DW2WzUNI.js" as="script"><link rel="prefetch" href="/assets/index.html-BhsatcMo.js" as="script"><link rel="prefetch" href="/assets/index.html--w3ZB2GU.js" as="script"><link rel="prefetch" href="/assets/index.html-KQykIUA6.js" as="script"><link rel="prefetch" href="/assets/index.html-CZ7cAiXQ.js" as="script"><link rel="prefetch" href="/assets/index.html-DptYFeeT.js" as="script"><link rel="prefetch" href="/assets/index.html-DGzbAEHB.js" as="script"><link rel="prefetch" href="/assets/index.html-CHh_s70z.js" as="script"><link rel="prefetch" href="/assets/index.html-N9olp4wT.js" as="script"><link rel="prefetch" href="/assets/index.html-CHKNXDlw.js" as="script"><link rel="prefetch" href="/assets/index.html-iNzdMHBz.js" as="script"><link rel="prefetch" href="/assets/index.html-BPEX2Em7.js" as="script"><link rel="prefetch" href="/assets/index.html-C-kwL-HK.js" as="script"><link rel="prefetch" href="/assets/index.html-DpC40BtQ.js" as="script"><link rel="prefetch" href="/assets/index.html-a0g_Vboy.js" as="script"><link rel="prefetch" href="/assets/index.html-Z2hv-RRk.js" as="script"><link rel="prefetch" href="/assets/index.html-CTdP86ba.js" as="script"><link rel="prefetch" href="/assets/index.html-XdJ9dFeC.js" as="script"><link rel="prefetch" href="/assets/index.html-CFpgGdzi.js" as="script"><link rel="prefetch" href="/assets/index.html-7K9FQa0s.js" as="script"><link rel="prefetch" href="/assets/index.html-CrZ9Hf5M.js" as="script"><link rel="prefetch" href="/assets/index.html-BiNUsdxn.js" as="script"><link rel="prefetch" href="/assets/index.html-DHPqnWqk.js" as="script"><link rel="prefetch" href="/assets/index.html-CSh66zR4.js" as="script"><link rel="prefetch" href="/assets/index.html-DK_bpX3a.js" as="script"><link rel="prefetch" href="/assets/index.html-CXdjsjVh.js" as="script"><link rel="prefetch" href="/assets/index.html-Cxfl0lwp.js" as="script"><link rel="prefetch" href="/assets/index.html-TjpIOAwl.js" as="script"><link rel="prefetch" href="/assets/index.html-DqusgZNP.js" as="script"><link rel="prefetch" href="/assets/index.html-fIQaGDJK.js" as="script"><link rel="prefetch" href="/assets/index.html-DRqsMLYA.js" as="script"><link rel="prefetch" href="/assets/index.html-B9tZ2f_4.js" as="script"><link rel="prefetch" href="/assets/index.html-Cw-mSeCW.js" as="script"><link rel="prefetch" href="/assets/index.html-BnNUEsZV.js" as="script"><link rel="prefetch" href="/assets/index.html-Bb1e_Crt.js" as="script"><link rel="prefetch" href="/assets/index.html-CE4u2-en.js" as="script"><link rel="prefetch" href="/assets/index.html-X-9itSz1.js" as="script"><link rel="prefetch" href="/assets/index.html-5IUqusL_.js" as="script"><link rel="prefetch" href="/assets/index.html-DuoR-xGv.js" as="script"><link rel="prefetch" href="/assets/index.html-DsKGURbf.js" as="script"><link rel="prefetch" href="/assets/index.html-BnYkLd1N.js" as="script"><link rel="prefetch" href="/assets/index.html-EEmMilr7.js" as="script"><link rel="prefetch" href="/assets/index.html-BcUMt3qS.js" as="script"><link rel="prefetch" href="/assets/index.html-D_I988kh.js" as="script"><link rel="prefetch" href="/assets/index.html-CznBOhcG.js" as="script"><link rel="prefetch" href="/assets/index.html-CP_OMy7x.js" as="script"><link rel="prefetch" href="/assets/index.html-BAwdqKNV.js" as="script"><link rel="prefetch" href="/assets/index.html-B0mjL7v4.js" as="script"><link rel="prefetch" href="/assets/index.html-Dm7CGyQE.js" as="script"><link rel="prefetch" href="/assets/index.html-RQ8Tw8yZ.js" as="script"><link rel="prefetch" href="/assets/index.html-BNXnnucc.js" as="script"><link rel="prefetch" href="/assets/index.html-DQBN3pw4.js" as="script"><link rel="prefetch" href="/assets/index.html-DYY-rGJe.js" as="script"><link rel="prefetch" href="/assets/index.html-ApNa1xpj.js" as="script"><link rel="prefetch" href="/assets/index.html-RxP1Zal9.js" as="script"><link rel="prefetch" href="/assets/index.html-A6tp1WLh.js" as="script"><link rel="prefetch" href="/assets/index.html-Cp5yPAkD.js" as="script"><link rel="prefetch" href="/assets/index.html-D5lEeCQD.js" as="script"><link rel="prefetch" href="/assets/index.html-CPaAiknc.js" as="script"><link rel="prefetch" href="/assets/index.html-DIhFH547.js" as="script"><link rel="prefetch" href="/assets/index.html-u4IYG1Pw.js" as="script"><link rel="prefetch" href="/assets/index.html-RJtKvtY2.js" as="script"><link rel="prefetch" href="/assets/index.html-DM7Sz7F0.js" as="script"><link rel="prefetch" href="/assets/index.html-D0RdX379.js" as="script"><link rel="prefetch" href="/assets/index.html-BnwoFI7J.js" as="script"><link rel="prefetch" href="/assets/index.html-DOuvr-8p.js" as="script"><link rel="prefetch" href="/assets/index.html-Bv1dya6v.js" as="script"><link rel="prefetch" href="/assets/index.html-BdeXwVvj.js" as="script"><link rel="prefetch" href="/assets/index.html-BFQxvti_.js" as="script"><link rel="prefetch" href="/assets/index.html-CmUpDrB9.js" as="script"><link rel="prefetch" href="/assets/index.html-cO0XrZPz.js" as="script"><link rel="prefetch" href="/assets/index.html-C1Eke1uq.js" as="script"><link rel="prefetch" href="/assets/index.html-VtvE6efK.js" as="script"><link rel="prefetch" href="/assets/index.html-DNbZpxkH.js" as="script"><link rel="prefetch" href="/assets/index.html-DzJksLfv.js" as="script"><link rel="prefetch" href="/assets/index.html-C1CegFSu.js" as="script"><link rel="prefetch" href="/assets/index.html-tWhl2Vga.js" as="script"><link rel="prefetch" href="/assets/index.html-C_7qKdoq.js" as="script"><link rel="prefetch" href="/assets/index.html-BkoyGij2.js" as="script"><link rel="prefetch" href="/assets/index.html-DS5JP1hO.js" as="script"><link rel="prefetch" href="/assets/index.html-CQGM-UO8.js" as="script"><link rel="prefetch" href="/assets/index.html-BdX-2tia.js" as="script"><link rel="prefetch" href="/assets/index.html-DKwzkU2d.js" as="script"><link rel="prefetch" href="/assets/index.html-D3ozTr-B.js" as="script"><link rel="prefetch" href="/assets/index.html-Bb0YUZJ0.js" as="script"><link rel="prefetch" href="/assets/index.html-C3ZRUowC.js" as="script"><link rel="prefetch" href="/assets/index.html-DVUnae6E.js" as="script"><link rel="prefetch" href="/assets/index.html-Db_uSpU0.js" as="script"><link rel="prefetch" href="/assets/index.html-CGrJYlLJ.js" as="script"><link rel="prefetch" href="/assets/index.html-C6ym4tUi.js" as="script"><link rel="prefetch" href="/assets/index.html-DZNzRzkg.js" as="script"><link rel="prefetch" href="/assets/index.html-C0XdZaMe.js" as="script"><link rel="prefetch" href="/assets/index.html-CtoI01rC.js" as="script"><link rel="prefetch" href="/assets/index.html-DEXtATBS.js" as="script"><link rel="prefetch" href="/assets/index.html-Cxfl0lwp.js" as="script"><link rel="prefetch" href="/assets/index.html-C2aViDEB.js" as="script"><link rel="prefetch" href="/assets/index.html-Bj7G4LUM.js" as="script"><link rel="prefetch" href="/assets/index.html-BDbnI_E7.js" as="script"><link rel="prefetch" href="/assets/index.html-BYYgxWph.js" as="script"><link rel="prefetch" href="/assets/index.html-CvHhcWTb.js" as="script"><link rel="prefetch" href="/assets/index.html-CaS7Hapq.js" as="script"><link rel="prefetch" href="/assets/index.html-CSeuBwpY.js" as="script"><link rel="prefetch" href="/assets/index.html-CowEb2r6.js" as="script"><link rel="prefetch" href="/assets/index.html-Cn_MN1t0.js" as="script"><link rel="prefetch" href="/assets/index.html-CO10orzc.js" as="script"><link rel="prefetch" href="/assets/index.html-CVnSOHJn.js" as="script"><link rel="prefetch" href="/assets/index.html-BM7kC5PW.js" as="script"><link rel="prefetch" href="/assets/index.html-ByHLOpm9.js" as="script"><link rel="prefetch" href="/assets/index.html-BH-4mBT7.js" as="script"><link rel="prefetch" href="/assets/index.html-Cyzm-0kl.js" as="script"><link rel="prefetch" href="/assets/index.html-BgIzG7w0.js" as="script"><link rel="prefetch" href="/assets/index.html-DqegxJr5.js" as="script"><link rel="prefetch" href="/assets/index.html-C-MmmhYJ.js" as="script"><link rel="prefetch" href="/assets/index.html-DsB2RH5A.js" as="script"><link rel="prefetch" href="/assets/index.html-Cgk9F6N3.js" as="script"><link rel="prefetch" href="/assets/index.html-KyuZE_4z.js" as="script"><link rel="prefetch" href="/assets/index.html-BGVPz4LK.js" as="script"><link rel="prefetch" href="/assets/index.html-DVa6YAfb.js" as="script"><link rel="prefetch" href="/assets/index.html-BULWb9Fe.js" as="script"><link rel="prefetch" href="/assets/index.html-CKpuEjBR.js" as="script"><link rel="prefetch" href="/assets/index.html-CZ8Wk5bO.js" as="script"><link rel="prefetch" href="/assets/index.html-CixMaayi.js" as="script"><link rel="prefetch" href="/assets/index.html-BSW-Q-Ab.js" as="script"><link rel="prefetch" href="/assets/index.html-B291MtwH.js" as="script"><link rel="prefetch" href="/assets/index.html-DzKHKvuO.js" as="script"><link rel="prefetch" href="/assets/index.html--AjCPD5q.js" as="script"><link rel="prefetch" href="/assets/index.html-fpwkt1QB.js" as="script"><link rel="prefetch" href="/assets/index.html-q8zdxgee.js" as="script"><link rel="prefetch" href="/assets/index.html-tL368ETs.js" as="script"><link rel="prefetch" href="/assets/index.html-Rby5sWvp.js" as="script"><link rel="prefetch" href="/assets/index.html-CQcbi3oa.js" as="script"><link rel="prefetch" href="/assets/index.html-DWet9MY_.js" as="script"><link rel="prefetch" href="/assets/index.html-CLuBCT8I.js" as="script"><link rel="prefetch" href="/assets/index.html-BqdlaNMd.js" as="script"><link rel="prefetch" href="/assets/index.html-DOSrS2fj.js" as="script"><link rel="prefetch" href="/assets/mermaid.esm.min-Blb9-RlM.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-DXWKOczD.js" as="script"><link rel="prefetch" href="/assets/setupDevtools-7MC2TMWH-_5BzXI8n.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/" aria-label="带我回家"><img class="vp-nav-logo" src="/logo.svg" alt><!----><span class="vp-site-name hide-in-pad">coder-xuyong</span></a><!--]--></div><div class="vp-navbar-center"><!----></div><div class="vp-navbar-end"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/" aria-label="主页"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span><!--]-->主页<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label=" java "><!--[--><span class="font-icon icon fa-fw fa-sm fa-brands fa-java" style=""></span> java <!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/posts/01.Java/01.JavaSE/" aria-label="JavaSE"><!---->JavaSE<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/pages/80a822/" aria-label="JavaEE"><!---->JavaEE<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/pages/e373d7/" aria-label="Frame"><!---->Frame<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label=" 数据库 "><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-database" style=""></span> 数据库 <!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">关系型数据库</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/pages/a5b63b/" aria-label="mysql"><!--[--><img class="icon" src="https://labs.mysql.com/common/themes/sakila/favicon.ico" alt no-view style=""><!--]-->mysql<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">kv数据库</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/2020/02/10/README.html" aria-label="redis"><!--[--><img class="icon" src="https://www.redis.net.cn/Application/Home/View/Public/img/icon.png" alt no-view style=""><!--]-->redis<!----></a></li></ul></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="AI相关"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-hexagon-nodes" style=""></span>AI相关<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">AI</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/posts/AI/AI%E5%85%A5%E9%97%A8.html" aria-label="AI 入门"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-ghost" style=""></span><!--]-->AI 入门<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/posts/AI/deepseek%E6%9C%AC%E5%9C%B0%E6%90%AD%E5%BB%BA.html" aria-label="deepseek 本地搭建"><!--[--><img class="icon" src="https://www.deepseek.com/favicon.ico" alt no-view style=""><!--]-->deepseek 本地搭建<!----></a></li></ul></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><a class="auto-link external-link" href="https://theme-hope.vuejs.press/zh/" aria-label="V2 文档" rel="noopener noreferrer" target="_blank"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span><!--]-->V2 文档<!----></a></div></nav><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/coder-xuyong/blog" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><form class="search-box" role="search"><input type="search" placeholder="搜索" autocomplete="off" spellcheck="false" value><!----></form><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/" aria-label="主页"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span><!--]-->主页<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/intro.html" aria-label="介绍页"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-circle-info" style=""></span><!--]-->介绍页<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><span class="font-icon icon fa-fw fa-sm fa-brands fa-java" style=""></span><span class="vp-sidebar-title">java</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">1.JavaSE</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">2.JavaEE</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/2025/04/01/tomcat%E7%9B%B8%E5%85%B3.html" aria-label="tomcat指定jdk路径启动"><!---->tomcat指定jdk路径启动<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">Java 服务器</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/pages/ec364e/" aria-label="Jetty 快速入门"><!---->Jetty 快速入门<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">Tomcat 教程</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/pages/4a4c02/" aria-label="Tomcat 快速入门"><!---->Tomcat 快速入门<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/pages/13f070/" aria-label="Tomcat连接器"><!---->Tomcat连接器<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/pages/d5076a/" aria-label="Tomcat容器"><!---->Tomcat容器<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/pages/f9e1e6/" aria-label="Tomcat优化"><!---->Tomcat优化<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/pages/f37326/" aria-label="Tomcat 和 Jetty"><!---->Tomcat 和 Jetty<!----></a></li></ul></section></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">JavaWeb</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">3.Java frame</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Java 中间件</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Java 工具</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Java 软件</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon fa-fw fa-sm fa-solid fa-database" style=""></span><span class="vp-sidebar-title">database</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon fa-fw fa-sm fa-solid fa-square-binary" style=""></span><span class="vp-sidebar-title">designPattern</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon fa-fw fa-sm fa-brands fa-linux" style=""></span><span class="vp-sidebar-title">linux</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon fa-fw fa-sm fa-solid fa-network-wired" style=""></span><span class="vp-sidebar-title">network</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon fa-fw fa-sm fa-brands fa-windows" style=""></span><span class="vp-sidebar-title">windows</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon fa-fw fa-sm fa-brands fa-airbnb" style=""></span><span class="vp-sidebar-title">AI</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon fa-fw fa-sm fa-brands fa-vuejs" style=""></span><span class="vp-sidebar-title">vuepress</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->Tomcat容器</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://github.com/coder-xuyong" target="_blank" rel="noopener noreferrer">xuyong</a></span><span property="author" content="xuyong"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2022年2月17日</span><meta property="datePublished" content="2022-02-17T22:34:30.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 27 分钟</span><meta property="timeRequired" content="PT27M"></span><span class="page-category-info" aria-label="分类🌈" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color8 clickable" role="navigation">Java</span><span class="page-category-item color6 clickable" role="navigation">JavaEE</span><span class="page-category-item color0 clickable" role="navigation">服务器</span><span class="page-category-item color3 clickable" role="navigation">Tomcat</span><!--]--><meta property="articleSection" content="Java,JavaEE,服务器,Tomcat"></span><span class="page-tag-info" aria-label="标签🏷" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color8 clickable" role="navigation">Java</span><span class="page-tag-item color1 clickable" role="navigation">JavaWeb</span><span class="page-tag-item color0 clickable" role="navigation">服务器</span><span class="page-tag-item color3 clickable" role="navigation">Tomcat</span><!--]--><meta property="keywords" content="Java,JavaWeb,服务器,Tomcat"></span></div><hr></div><div class="vp-toc-placeholder"><aside id="toc" vp-toc><!----><div class="vp-toc-header">此页内容<!----><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#tomcat-实现热部署和热加载">Tomcat 实现热部署和热加载</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#containerbackgroundprocessor-实现">ContainerBackgroundProcessor 实现</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#backgroundprocess-方法">backgroundProcess 方法</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#tomcat-热加载">Tomcat 热加载</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#tomcat-热部署">Tomcat 热部署</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#tomcat-的类加载机制">Tomcat 的类加载机制</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#findclass-方法">findClass 方法</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#loadclass-方法">loadClass 方法</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#tomcat-实现应用隔离">Tomcat 实现应用隔离</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#tomcat-实现-servlet-规范">Tomcat 实现 Servlet 规范</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#servlet-管理">Servlet 管理</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#filter-管理">Filter 管理</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#listener-管理">Listener 管理</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#tomcat-支持异步-servlet">Tomcat 支持异步 Servlet</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#异步示例">异步示例</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#异步-servlet-原理">异步 Servlet 原理</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#参考资料">参考资料</a></li><!----><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content" vp-content><h1 id="tomcat-容器" tabindex="-1"><a class="header-anchor" href="#tomcat-容器"><span>Tomcat 容器</span></a></h1><h2 id="tomcat-实现热部署和热加载" tabindex="-1"><a class="header-anchor" href="#tomcat-实现热部署和热加载"><span>Tomcat 实现热部署和热加载</span></a></h2><ul><li>热加载的实现方式是 Web 容器启动一个后台线程，定期检测类文件的变化，如果有变化，就重新加载类，在这个过程中不会清空 Session ，一般用在开发环境。</li><li>热部署原理类似，也是由后台线程定时检测 Web 应用的变化，但它会重新加载整个 Web 应用。这种方式会清空 Session，比热加载更加干净、彻底，一般用在生产环境。</li></ul><p>Tomcat 通过开启后台线程，使得各个层次的容器组件都有机会完成一些周期性任务。Tomcat 是基于 ScheduledThreadPoolExecutor 实现周期性任务的：</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">bgFuture </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> exec</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">scheduleWithFixedDelay</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">              new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> ContainerBackgroundProcessor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(),</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 要执行的 Runnable</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">              backgroundProcessorDelay, </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 第一次执行延迟多久</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">              backgroundProcessorDelay, </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 之后每次执行间隔多久</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">              TimeUnit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">SECONDS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        // 时间单位</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>第一个参数就是要周期性执行的任务类 ContainerBackgroundProcessor，它是一个 Runnable，同时也是 ContainerBase 的内部类，ContainerBase 是所有容器组件的基类，我们来回忆一下容器组件有哪些，有 Engine、Host、Context 和 Wrapper 等，它们具有父子关系。</p><h3 id="containerbackgroundprocessor-实现" tabindex="-1"><a class="header-anchor" href="#containerbackgroundprocessor-实现"><span>ContainerBackgroundProcessor 实现</span></a></h3><p>我们接来看 ContainerBackgroundProcessor 具体是如何实现的。</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">protected</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> ContainerBackgroundProcessor</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> implements</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Runnable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B;">Override</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> run</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        // 请注意这里传入的参数是 &quot; 宿主类 &quot; 的实例</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        processChildren</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">ContainerBase</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    protected</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> processChildren</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Container</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> container</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        try</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            //1. 调用当前容器的 backgroundProcess 方法。</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">            container</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">backgroundProcess</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            //2. 遍历所有的子容器，递归调用 processChildren，</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            // 这样当前容器的子孙都会被处理</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">            Container</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">[] </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">children</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> container</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">findChildren</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> i</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; i </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> children</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">length</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; i++) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            // 这里请你注意，容器基类有个变量叫做 backgroundProcessorDelay，如果大于 0，表明子容器有自己的后台线程，无需父容器来调用它的 processChildren 方法。</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (children[i].</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getBackgroundProcessorDelay</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                    processChildren</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(children[i]);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">                }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">catch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Throwable</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) { ... }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>上面的代码逻辑也是比较清晰的，首先 ContainerBackgroundProcessor 是一个 Runnable，它需要实现 run 方法，它的 run 很简单，就是调用了 processChildren 方法。这里有个小技巧，它把“宿主类”，也就是<strong>ContainerBase 的类实例当成参数传给了 run 方法</strong>。</p><p>而在 processChildren 方法里，就做了两步：调用当前容器的 backgroundProcess 方法，以及递归调用子孙的 backgroundProcess 方法。请你注意 backgroundProcess 是 Container 接口中的方法，也就是说所有类型的容器都可以实现这个方法，在这个方法里完成需要周期性执行的任务。</p><p>这样的设计意味着什么呢？我们只需要在顶层容器，也就是 Engine 容器中启动一个后台线程，那么这个线程<strong>不但会执行 Engine 容器的周期性任务，它还会执行所有子容器的周期性任务</strong>。</p><h3 id="backgroundprocess-方法" tabindex="-1"><a class="header-anchor" href="#backgroundprocess-方法"><span>backgroundProcess 方法</span></a></h3><p>上述代码都是在基类 ContainerBase 中实现的，那具体容器类需要做什么呢？其实很简单，如果有周期性任务要执行，就实现 backgroundProcess 方法；如果没有，就重用基类 ContainerBase 的方法。ContainerBase 的 backgroundProcess 方法实现如下：</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> backgroundProcess</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">() {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    //1. 执行容器中 Cluster 组件的周期性任务</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">    Cluster</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> cluster </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> getClusterInternal</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (cluster </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        cluster</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">backgroundProcess</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    //2. 执行容器中 Realm 组件的周期性任务</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">    Realm</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> realm </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> getRealmInternal</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (realm </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        realm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">backgroundProcess</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">   }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">   //3. 执行容器中 Valve 组件的周期性任务</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">    Valve</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> current </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> pipeline</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getFirst</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    while</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (current </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">       current</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">backgroundProcess</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">       current </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> current</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getNext</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    //4. 触发容器的 &quot; 周期事件 &quot;，Host 容器的监听器 HostConfig 就靠它来调用</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    fireLifecycleEvent</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">Lifecycle</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">PERIODIC_EVENT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>从上面的代码可以看到，不仅每个容器可以有周期性任务，每个容器中的其他通用组件，比如跟集群管理有关的 Cluster 组件、跟安全管理有关的 Realm 组件都可以有自己的周期性任务。</p><p>我在前面的专栏里提到过，容器之间的链式调用是通过 Pipeline-Valve 机制来实现的，从上面的代码你可以看到容器中的 Valve 也可以有周期性任务，并且被 ContainerBase 统一处理。</p><p>请你特别注意的是，在 backgroundProcess 方法的最后，还触发了容器的“周期事件”。我们知道容器的生命周期事件有初始化、启动和停止等，那“周期事件”又是什么呢？它跟生命周期事件一样，是一种扩展机制，你可以这样理解：</p><p>又一段时间过去了，容器还活着，你想做点什么吗？如果你想做点什么，就创建一个监听器来监听这个“周期事件”，事件到了我负责调用你的方法。</p><p>总之，有了 ContainerBase 中的后台线程和 backgroundProcess 方法，各种子容器和通用组件不需要各自弄一个后台线程来处理周期性任务，这样的设计显得优雅和整洁。</p><h3 id="tomcat-热加载" tabindex="-1"><a class="header-anchor" href="#tomcat-热加载"><span>Tomcat 热加载</span></a></h3><p>有了 ContainerBase 的周期性任务处理“框架”，作为具体容器子类，只需要实现自己的周期性任务就行。而 Tomcat 的热加载，就是在 Context 容器中实现的。Context 容器的 backgroundProcess 方法是这样实现的：</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> backgroundProcess</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">() {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    //WebappLoader 周期性的检查 WEB-INF/classes 和 WEB-INF/lib 目录下的类文件</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">    Loader</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> loader </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> getLoader</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (loader </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        loader</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">backgroundProcess</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    //Session 管理器周期性的检查是否有过期的 Session</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">    Manager</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> manager </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> getManager</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (manager </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        manager</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">backgroundProcess</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // 周期性的检查静态资源是否有变化</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">    WebResourceRoot</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> resources </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> getResources</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (resources </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        resources</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">backgroundProcess</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // 调用父类 ContainerBase 的 backgroundProcess 方法</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    super</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">backgroundProcess</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>从上面的代码我们看到 Context 容器通过 WebappLoader 来检查类文件是否有更新，通过 Session 管理器来检查是否有 Session 过期，并且通过资源管理器来检查静态资源是否有更新，最后还调用了父类 ContainerBase 的 backgroundProcess 方法。</p><p>这里我们要重点关注，WebappLoader 是如何实现热加载的，它主要是调用了 Context 容器的 reload 方法，而 Context 的 reload 方法比较复杂，总结起来，主要完成了下面这些任务：</p><ol><li>停止和销毁 Context 容器及其所有子容器，子容器其实就是 Wrapper，也就是说 Wrapper 里面 Servlet 实例也被销毁了。</li><li>停止和销毁 Context 容器关联的 Listener 和 Filter。</li><li>停止和销毁 Context 下的 Pipeline 和各种 Valve。</li><li>停止和销毁 Context 的类加载器，以及类加载器加载的类文件资源。</li><li>启动 Context 容器，在这个过程中会重新创建前面四步被销毁的资源。</li></ol><p>在这个过程中，类加载器发挥着关键作用。一个 Context 容器对应一个类加载器，类加载器在销毁的过程中会把它加载的所有类也全部销毁。Context 容器在启动过程中，会创建一个新的类加载器来加载新的类文件。</p><p>在 Context 的 reload 方法里，并没有调用 Session 管理器的 distroy 方法，也就是说这个 Context 关联的 Session 是没有销毁的。你还需要注意的是，Tomcat 的热加载默认是关闭的，你需要在 conf 目录下的 Context.xml 文件中设置 reloadable 参数来开启这个功能，像下面这样：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>&lt;Context reloadable=&quot;true&quot;/&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="tomcat-热部署" tabindex="-1"><a class="header-anchor" href="#tomcat-热部署"><span>Tomcat 热部署</span></a></h3><p>我们再来看看热部署，热部署跟热加载的本质区别是，热部署会重新部署 Web 应用，原来的 Context 对象会整个被销毁掉，因此这个 Context 所关联的一切资源都会被销毁，包括 Session。</p><p>那么 Tomcat 热部署又是由哪个容器来实现的呢？应该不是由 Context，因为热部署过程中 Context 容器被销毁了，那么这个重担就落在 Host 身上了，因为它是 Context 的父容器。</p><p>跟 Context 不一样，Host 容器并没有在 backgroundProcess 方法中实现周期性检测的任务，而是通过监听器 HostConfig 来实现的，HostConfig 就是前面提到的“周期事件”的监听器，那“周期事件”达到时，HostConfig 会做什么事呢？</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> lifecycleEvent</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">LifecycleEvent</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> event) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // 执行 check 方法。</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">event</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getType</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">().</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">equals</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">Lifecycle</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">PERIODIC_EVENT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        check</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>它执行了 check 方法，我们接着来看 check 方法里做了什么。</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">protected</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> check</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">() {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">host</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getAutoDeploy</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        // 检查这个 Host 下所有已经部署的 Web 应用</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">        DeployedApplication</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">[] apps </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">            deployed</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">values</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">().</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">toArray</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> DeployedApplication</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        for</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> i </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> i </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> apps</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">length</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> i</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">++</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            // 检查 Web 应用目录是否有变化</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">            checkResources</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(apps[i]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> false</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        // 执行部署</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        deployApps</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>其实 HostConfig 会检查 webapps 目录下的所有 Web 应用：</p><ul><li>如果原来 Web 应用目录被删掉了，就把相应 Context 容器整个销毁掉。</li><li>是否有新的 Web 应用目录放进来了，或者有新的 WAR 包放进来了，就部署相应的 Web 应用。</li></ul><p>因此 HostConfig 做的事情都是比较“宏观”的，它不会去检查具体类文件或者资源文件是否有变化，而是检查 Web 应用目录级别的变化。</p><h2 id="tomcat-的类加载机制" tabindex="-1"><a class="header-anchor" href="#tomcat-的类加载机制"><span>Tomcat 的类加载机制</span></a></h2><p>Tomcat 的自定义类加载器 <code>WebAppClassLoader</code> 打破了双亲委派机制，它<strong>首先自己尝试去加载某个类，如果找不到再代理给父类加载器</strong>，其目的是优先加载 Web 应用自己定义的类。具体实现就是重写 ClassLoader 的两个方法：findClass 和 loadClass。</p><h3 id="findclass-方法" tabindex="-1"><a class="header-anchor" href="#findclass-方法"><span>findClass 方法</span></a></h3><p>我们先来看看 findClass 方法的实现，为了方便理解和阅读，我去掉了一些细节：</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Class</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">?</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> findClass</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> name) throws ClassNotFoundException {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">    Class</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#C678DD;">?</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> clazz </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    try</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            //1. 先在 Web 应用目录下查找类</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">            clazz </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> findClassInternal</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(name)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }  </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">catch</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">RuntimeException</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">           throw</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">       }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (clazz </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    try</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            //2. 如果在本地目录没有找到，交给父加载器去查找</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">            clazz </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> super</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">findClass</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(name);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }  </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">catch</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">RuntimeException</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">           throw</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">       }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    //3. 如果父类也没找到，抛出 ClassNotFoundException</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (clazz </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        throw</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> ClassNotFoundException</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(name)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">     }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> clazz</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在 findClass 方法里，主要有三个步骤：</p><ol><li>先在 Web 应用本地目录下查找要加载的类。</li><li>如果没有找到，交给父加载器去查找，它的父加载器就是上面提到的系统类加载器 AppClassLoader。</li><li>如何父加载器也没找到这个类，抛出 ClassNotFound 异常。</li></ol><h3 id="loadclass-方法" tabindex="-1"><a class="header-anchor" href="#loadclass-方法"><span>loadClass 方法</span></a></h3><p>接着我们再来看 Tomcat 类加载器的 loadClass 方法的实现，同样我也去掉了一些细节：</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Class</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">?</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> loadClass</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> boolean</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> resolve) throws ClassNotFoundException {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    synchronized</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getClassLoadingLock</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(name)) {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">        Class</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#C678DD;">?</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> clazz </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        //1. 先在本地 cache 查找该类是否已经加载过</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        clazz </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> findLoadedClass0</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(name)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (clazz </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (resolve)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                resolveClass</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(clazz)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> clazz</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        //2. 从系统类加载器的 cache 中查找是否加载过</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        clazz </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> findLoadedClass</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(name)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (clazz </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (resolve)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                resolveClass</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(clazz)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> clazz</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        // 3. 尝试用 ExtClassLoader 类加载器类加载，为什么？</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">        ClassLoader</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> javaseLoader </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> getJavaseClassLoader</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        try</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">            clazz </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> javaseLoader</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">loadClass</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(name);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (clazz </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (resolve)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                    resolveClass</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(clazz)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> clazz</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">            }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">catch</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">ClassNotFoundException</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            // Ignore</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        // 4. 尝试在本地目录搜索 class 并加载</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        try</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">            clazz </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> findClass</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(name)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (clazz </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (resolve)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                    resolveClass</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(clazz)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> clazz</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">            }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">catch</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">ClassNotFoundException</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            // Ignore</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        // 5. 尝试用系统类加载器 (也就是 AppClassLoader) 来加载</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            try</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">                clazz </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> Class</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">forName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(name, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">false</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, parent);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (clazz </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (resolve)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                        resolveClass</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(clazz)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                    return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> clazz</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">                }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">            } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">catch</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">ClassNotFoundException</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                // Ignore</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">            }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">       }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    //6. 上述过程都加载失败，抛出异常</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    throw</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> ClassNotFoundException</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(name)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>loadClass 方法稍微复杂一点，主要有六个步骤：</p><ol><li>先在本地 Cache 查找该类是否已经加载过，也就是说 Tomcat 的类加载器是否已经加载过这个类。</li><li>如果 Tomcat 类加载器没有加载过这个类，再看看系统类加载器是否加载过。</li><li>如果都没有，就让<strong>ExtClassLoader</strong>去加载，这一步比较关键，目的<strong>防止 Web 应用自己的类覆盖 JRE 的核心类</strong>。因为 Tomcat 需要打破双亲委派机制，假如 Web 应用里自定义了一个叫 Object 的类，如果先加载这个 Object 类，就会覆盖 JRE 里面的那个 Object 类，这就是为什么 Tomcat 的类加载器会优先尝试用 ExtClassLoader 去加载，因为 ExtClassLoader 会委托给 BootstrapClassLoader 去加载，BootstrapClassLoader 发现自己已经加载了 Object 类，直接返回给 Tomcat 的类加载器，这样 Tomcat 的类加载器就不会去加载 Web 应用下的 Object 类了，也就避免了覆盖 JRE 核心类的问题。</li><li>如果 ExtClassLoader 加载器加载失败，也就是说 JRE 核心类中没有这类，那么就在本地 Web 应用目录下查找并加载。</li><li>如果本地目录下没有这个类，说明不是 Web 应用自己定义的类，那么由系统类加载器去加载。这里请你注意，Web 应用是通过<code>Class.forName</code>调用交给系统类加载器的，因为<code>Class.forName</code>的默认加载器就是系统类加载器。</li><li>如果上述加载过程全部失败，抛出 ClassNotFound 异常。</li></ol><p>从上面的过程我们可以看到，Tomcat 的类加载器打破了双亲委派机制，没有一上来就直接委托给父加载器，而是先在本地目录下加载，为了避免本地目录下的类覆盖 JRE 的核心类，先尝试用 JVM 扩展类加载器 ExtClassLoader 去加载。那为什么不先用系统类加载器 AppClassLoader 去加载？很显然，如果是这样的话，那就变成双亲委派机制了，这就是 Tomcat 类加载器的巧妙之处。</p><h3 id="tomcat-实现应用隔离" tabindex="-1"><a class="header-anchor" href="#tomcat-实现应用隔离"><span>Tomcat 实现应用隔离</span></a></h3><p>Tomcat 作为 Web 容器，需要解决以下问题：</p><ol><li>如果在 Tomcat 中运行了两个 Web 应用程序，两个 Web 应用中有同名的 Servlet，但是功能不同，Tomcat 需要同时加载和管理这两个同名的 Servlet 类，保证它们不会冲突，因此 Web 应用之间的类需要隔离。</li><li>两个 Web 应用都依赖同一个第三方的 JAR 包，比如 Spring，那 Spring 的 JAR 包被加载到内存后，Tomcat 要保证这两个 Web 应用能够共享，也就是说 Spring 的 JAR 包只被加载一次，否则随着依赖的第三方 JAR 包增多，JVM 的内存会膨胀。</li><li>需要隔离 Tomcat 本身的类和 Web 应用的类。</li></ol><figure><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/20201130141536.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h4 id="webappclassloader" tabindex="-1"><a class="header-anchor" href="#webappclassloader"><span>WebAppClassLoader</span></a></h4><p>针对第一个问题：</p><p>如果使用 JVM 默认 AppClassLoader 来加载 Web 应用，AppClassLoader 只能加载一个 Servlet 类，在加载第二个同名 Servlet 类时，AppClassLoader 会返回第一个 Servlet 类的 Class 实例，这是因为在 AppClassLoader 看来，同名的 Servlet 类只被加载一次。</p><p>Tomcat 的解决方案是自定义一个类加载器 WebAppClassLoader， 并且给每个 Web 应用创建一个类加载器实例。我们知道，Context 容器组件对应一个 Web 应用，因此，每个 Context 容器负责创建和维护一个 WebAppClassLoader 加载器实例。这背后的原理是，<strong>不同的加载器实例加载的类被认为是不同的类</strong>，即使它们的类名相同。这就相当于在 Java 虚拟机内部创建了一个个相互隔离的 Java 类空间，每一个 Web 应用都有自己的类空间，Web 应用之间通过各自的类加载器互相隔离。</p><h4 id="sharedclassloader" tabindex="-1"><a class="header-anchor" href="#sharedclassloader"><span>SharedClassLoader</span></a></h4><p>针对第二个问题：</p><p>本质需求是两个 Web 应用之间怎么共享库类，并且不能重复加载相同的类。我们知道，在双亲委派机制里，各个子加载器都可以通过父加载器去加载类，那么把需要共享的类放到父加载器的加载路径下不就行了吗，应用程序也正是通过这种方式共享 JRE 的核心类。因此 Tomcat 的设计者又加了一个类加载器 SharedClassLoader，作为 WebAppClassLoader 的父加载器，专门来加载 Web 应用之间共享的类。如果 WebAppClassLoader 自己没有加载到某个类，就会委托父加载器 SharedClassLoader 去加载这个类，SharedClassLoader 会在指定目录下加载共享类，之后返回给 WebAppClassLoader，这样共享的问题就解决了。</p><h4 id="catalinaclassloader" tabindex="-1"><a class="header-anchor" href="#catalinaclassloader"><span>CatalinaClassloader</span></a></h4><p>如何隔离 Tomcat 本身的类和 Web 应用的类？</p><p>要共享可以通过父子关系，要隔离那就需要兄弟关系了。兄弟关系就是指两个类加载器是平行的，它们可能拥有同一个父加载器，但是两个兄弟类加载器加载的类是隔离的。基于此 Tomcat 又设计一个类加载器 CatalinaClassloader，专门来加载 Tomcat 自身的类。这样设计有个问题，那 Tomcat 和各 Web 应用之间需要共享一些类时该怎么办呢？</p><h4 id="commonclassloader" tabindex="-1"><a class="header-anchor" href="#commonclassloader"><span>CommonClassLoader</span></a></h4><p>老办法，还是再增加一个 CommonClassLoader，作为 CatalinaClassloader 和 SharedClassLoader 的父加载器。CommonClassLoader 能加载的类都可以被 CatalinaClassLoader 和 SharedClassLoader 使用，而 CatalinaClassLoader 和 SharedClassLoader 能加载的类则与对方相互隔离。WebAppClassLoader 可以使用 SharedClassLoader 加载到的类，但各个 WebAppClassLoader 实例之间相互隔离。</p><h2 id="tomcat-实现-servlet-规范" tabindex="-1"><a class="header-anchor" href="#tomcat-实现-servlet-规范"><span>Tomcat 实现 Servlet 规范</span></a></h2><p>Servlet 容器最重要的任务就是创建 Servlet 的实例并且调用 Servlet。</p><p>一个 Web 应用里往往有多个 Servlet，而在 Tomcat 中一个 Web 应用对应一个 Context 容器，也就是说一个 Context 容器需要管理多个 Servlet 实例。但 Context 容器并不直接持有 Servlet 实例，而是通过子容器 Wrapper 来管理 Servlet，你可以把 Wrapper 容器看作是 Servlet 的包装。</p><p>为什么需要 Wrapper 呢？Context 容器直接维护一个 Servlet 数组不就行了吗？这是因为 Servlet 不仅仅是一个类实例，它还有相关的配置信息，比如它的 URL 映射、它的初始化参数，因此设计出了一个包装器，把 Servlet 本身和它相关的数据包起来，没错，这就是面向对象的思想。</p><p>除此以外，Servlet 规范中还有两个重要特性：Listener 和 Filter，Tomcat 也需要创建它们的实例，并在合适的时机去调用它们的方法。</p><h3 id="servlet-管理" tabindex="-1"><a class="header-anchor" href="#servlet-管理"><span>Servlet 管理</span></a></h3><p>Tomcat 是用 Wrapper 容器来管理 Servlet 的，那 Wrapper 容器具体长什么样子呢？我们先来看看它里面有哪些关键的成员变量：</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">protected</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> volatile</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Servlet</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> instance </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>它拥有一个 Servlet 实例，并且 Wrapper 通过 loadServlet 方法来实例化 Servlet。为了方便你阅读，我简化了代码：</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> synchronized</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Servlet</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> loadServlet</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">() throws ServletException {</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">    Servlet</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> servlet</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    //1. 创建一个 Servlet 实例</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    servlet </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (Servlet) </span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">instanceManager</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">newInstance</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(servletClass);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    //2. 调用了 Servlet 的 init 方法，这是 Servlet 规范要求的</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    initServlet</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(servlet)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> servlet</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>其实 loadServlet 主要做了两件事：创建 Servlet 的实例，并且调用 Servlet 的 init 方法，因为这是 Servlet 规范要求的。</p><p>那接下来的问题是，什么时候会调到这个 loadServlet 方法呢？为了加快系统的启动速度，我们往往会采取资源延迟加载的策略，Tomcat 也不例外，默认情况下 Tomcat 在启动时不会加载你的 Servlet，除非你把 Servlet 的<code>loadOnStartup</code>参数设置为<code>true</code>。</p><p>这里还需要你注意的是，虽然 Tomcat 在启动时不会创建 Servlet 实例，但是会创建 Wrapper 容器，就好比尽管枪里面还没有子弹，先把枪造出来。那子弹什么时候造呢？是真正需要开枪的时候，也就是说有请求来访问某个 Servlet 时，这个 Servlet 的实例才会被创建。</p><p>那 Servlet 是被谁调用的呢？我们回忆一下专栏前面提到过 Tomcat 的 Pipeline-Valve 机制，每个容器组件都有自己的 Pipeline，每个 Pipeline 中有一个 Valve 链，并且每个容器组件有一个 BasicValve（基础阀）。Wrapper 作为一个容器组件，它也有自己的 Pipeline 和 BasicValve，Wrapper 的 BasicValve 叫 <strong>StandardWrapperValve</strong>。</p><p>你可以想到，当请求到来时，Context 容器的 BasicValve 会调用 Wrapper 容器中 Pipeline 中的第一个 Valve，然后会调用到 StandardWrapperValve。我们先来看看它的 invoke 方法是如何实现的，同样为了方便你阅读，我简化了代码：</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> final</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> invoke</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Request</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> request</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Response</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> response) {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    //1. 实例化 Servlet</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    servlet </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> wrapper</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">allocate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    //2. 给当前请求创建一个 Filter 链</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">    ApplicationFilterChain</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> filterChain </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        ApplicationFilterFactory</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">createFilterChain</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(request, wrapper, servlet);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">   //3. 调用这个 Filter 链，Filter 链中的最后一个 Filter 会调用 Servlet</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">   filterChain</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">doFilter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">request</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getRequest</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(), </span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">response</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getResponse</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">());</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>StandardWrapperValve 的 invoke 方法比较复杂，去掉其他异常处理的一些细节，本质上就是三步：</p><ul><li>第一步，创建 Servlet 实例；</li><li>第二步，给当前请求创建一个 Filter 链；</li><li>第三步，调用这个 Filter 链。</li></ul><p>你可能会问，为什么需要给每个请求创建一个 Filter 链？这是因为每个请求的请求路径都不一样，而 Filter 都有相应的路径映射，因此不是所有的 Filter 都需要来处理当前的请求，我们需要根据请求的路径来选择特定的一些 Filter 来处理。</p><p>第二个问题是，为什么没有看到调到 Servlet 的 service 方法？这是因为 Filter 链的 doFilter 方法会负责调用 Servlet，具体来说就是 Filter 链中的最后一个 Filter 会负责调用 Servlet。</p><p>接下来我们来看 Filter 的实现原理。</p><h3 id="filter-管理" tabindex="-1"><a class="header-anchor" href="#filter-管理"><span>Filter 管理</span></a></h3><p>我们知道，跟 Servlet 一样，Filter 也可以在<code>web.xml</code>文件里进行配置，不同的是，Filter 的作用域是整个 Web 应用，因此 Filter 的实例是在 Context 容器中进行管理的，Context 容器用 Map 集合来保存 Filter。</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">private</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Map</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">String</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> FilterDef</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> filterDefs </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> HashMap</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>那上面提到的 Filter 链又是什么呢？Filter 链的存活期很短，它是跟每个请求对应的。一个新的请求来了，就动态创建一个 FIlter 链，请求处理完了，Filter 链也就被回收了。理解它的原理也非常关键，我们还是来看看源码：</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> final</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> ApplicationFilterChain</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> implements</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> FilterChain</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  //Filter 链中有 Filter 数组，这个好理解</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  private</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> ApplicationFilterConfig</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">[] filters </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> ApplicationFilterConfig</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  //Filter 链中的当前的调用位置</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  private</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> pos </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // 总共有多少了 Filter</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  private</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> n </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // 每个 Filter 链对应一个 Servlet，也就是它要调用的 Servlet</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  private</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Servlet</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> servlet </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> doFilter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">ServletRequest</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> req</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">ServletResponse</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> res</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        internalDoFilter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(request,response);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  private</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> internalDoFilter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">ServletRequest</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> req</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">                                ServletResponse</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> res</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">){</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // 每个 Filter 链在内部维护了一个 Filter 数组</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (pos </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> n) {</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">        ApplicationFilterConfig</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> filterConfig</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> filters[pos++];</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">        Filter</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> filter</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> filterConfig</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getFilter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        filter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">doFilter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(request, response, </span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    servlet</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">service</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(request, response);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>从 ApplicationFilterChain 的源码我们可以看到几个关键信息：</p><ul><li>Filter 链中除了有 Filter 对象的数组，还有一个整数变量 pos，这个变量用来记录当前被调用的 Filter 在数组中的位置。</li><li>Filter 链中有个 Servlet 实例，这个好理解，因为上面提到了，每个 Filter 链最后都会调到一个 Servlet。</li><li>Filter 链本身也实现了 doFilter 方法，直接调用了一个内部方法 internalDoFilter。</li><li>internalDoFilter 方法的实现比较有意思，它做了一个判断，如果当前 Filter 的位置小于 Filter 数组的长度，也就是说 Filter 还没调完，就从 Filter 数组拿下一个 Filter，调用它的 doFilter 方法。否则，意味着所有 Filter 都调到了，就调用 Servlet 的 service 方法。</li></ul><p>但问题是，方法体里没看到循环，谁在不停地调用 Filter 链的 doFIlter 方法呢？Filter 是怎么依次调到的呢？</p><p>答案是<strong>Filter 本身的 doFilter 方法会调用 Filter 链的 doFilter 方法</strong>，我们还是来看看代码就明白了：</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> doFilter</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">ServletRequest</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> request</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> ServletResponse</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> response</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">        FilterChain</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> chain){</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">          ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">          // 调用 Filter 的方法</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">          chain</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">doFilter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(request, response);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">      }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意 Filter 的 doFilter 方法有个关键参数 FilterChain，就是 Filter 链。并且每个 Filter 在实现 doFilter 时，必须要调用 Filter 链的 doFilter 方法，而 Filter 链中保存当前 FIlter 的位置，会调用下一个 FIlter 的 doFilter 方法，这样链式调用就完成了。</p><p>Filter 链跟 Tomcat 的 Pipeline-Valve 本质都是责任链模式，但是在具体实现上稍有不同，你可以细细体会一下。</p><h3 id="listener-管理" tabindex="-1"><a class="header-anchor" href="#listener-管理"><span>Listener 管理</span></a></h3><p>我们接着聊 Servlet 规范里 Listener。跟 Filter 一样，Listener 也是一种扩展机制，你可以监听容器内部发生的事件，主要有两类事件：</p><ul><li>第一类是生命状态的变化，比如 Context 容器启动和停止、Session 的创建和销毁。</li><li>第二类是属性的变化，比如 Context 容器某个属性值变了、Session 的某个属性值变了以及新的请求来了等。</li></ul><p>我们可以在<code>web.xml</code>配置或者通过注解的方式来添加监听器，在监听器里实现我们的业务逻辑。对于 Tomcat 来说，它需要读取配置文件，拿到监听器类的名字，实例化这些类，并且在合适的时机调用这些监听器的方法。</p><p>Tomcat 是通过 Context 容器来管理这些监听器的。Context 容器将两类事件分开来管理，分别用不同的集合来存放不同类型事件的监听器：</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 监听属性值变化的监听器</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">private</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> List</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Object</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> applicationEventListenersList </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> CopyOnWriteArrayList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 监听生命事件的监听器</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">private</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Object</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> applicationLifecycleListenersObjects[] </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Object</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>剩下的事情就是触发监听器了，比如在 Context 容器的启动方法里，就触发了所有的 ServletContextListener：</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//1. 拿到所有的生命周期监听器</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Object</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> instances[] </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> getApplicationLifecycleListeners</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> i </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> i </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> instances</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">length</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> i</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">++</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">   //2. 判断 Listener 的类型是不是 ServletContextListener</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">   if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(instances[i] </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instanceof</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> ServletContextListener))</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">      continue</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">   //3. 触发 Listener 的方法</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">   ServletContextListener</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> lr </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (ServletContextListener) instances[i]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">   lr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">contextInitialized</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(event);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>需要注意的是，这里的 ServletContextListener 接口是一种留给用户的扩展机制，用户可以实现这个接口来定义自己的监听器，监听 Context 容器的启停事件。Spring 就是这么做的。ServletContextListener 跟 Tomcat 自己的生命周期事件 LifecycleListener 是不同的。LifecycleListener 定义在生命周期管理组件中，由基类 LifeCycleBase 统一管理。</p><h2 id="tomcat-支持异步-servlet" tabindex="-1"><a class="header-anchor" href="#tomcat-支持异步-servlet"><span>Tomcat 支持异步 Servlet</span></a></h2><h3 id="异步示例" tabindex="-1"><a class="header-anchor" href="#异步示例"><span>异步示例</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B;">WebServlet</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">urlPatterns</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> {</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;/async&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> asyncSupported</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> AsyncServlet</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> HttpServlet</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    //Web 应用线程池，用来处理异步 Servlet</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">    ExecutorService</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> executor </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> Executors</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">newSingleThreadExecutor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> service</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">HttpServletRequest</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> req</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">HttpServletResponse</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> resp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        //1. 调用 startAsync 或者异步上下文</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        final</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> AsyncContext</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> ctx</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> req</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">startAsync</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">       // 用线程池来执行耗时操作</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        executor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">execute</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Runnable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B;">Override</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> run</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                // 在这里做耗时的操作</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                try</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">                    ctx</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getResponse</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">().</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getWriter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">().</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Handling Async Servlet&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">                } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">catch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">IOException</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                //3. 异步 Servlet 处理完了调用异步上下文的 complete 方法</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">                ctx</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">complete</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        });</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>有三个要点：</p><ol><li>通过注解的方式来注册 Servlet，除了 @WebServlet 注解，还需要加上 asyncSupported=true 的属性，表明当前的 Servlet 是一个异步 Servlet。</li><li>Web 应用程序需要调用 Request 对象的 startAsync 方法来拿到一个异步上下文 AsyncContext。这个上下文保存了请求和响应对象。</li><li>Web 应用需要开启一个新线程来处理耗时的操作，处理完成后需要调用 AsyncContext 的 complete 方法。目的是告诉 Tomcat，请求已经处理完成。</li></ol><p>这里请你注意，虽然异步 Servlet 允许用更长的时间来处理请求，但是也有超时限制的，默认是 30 秒，如果 30 秒内请求还没处理完，Tomcat 会触发超时机制，向浏览器返回超时错误，如果这个时候你的 Web 应用再调用<code>ctx.complete</code>方法，会得到一个 IllegalStateException 异常。</p><h3 id="异步-servlet-原理" tabindex="-1"><a class="header-anchor" href="#异步-servlet-原理"><span>异步 Servlet 原理</span></a></h3><p>通过上面的例子，相信你对 Servlet 的异步实现有了基本的理解。要理解 Tomcat 在这个过程都做了什么事情，关键就是要弄清楚<code>req.startAsync</code>方法和<code>ctx.complete</code>方法都做了什么。</p><h4 id="startasync-方法" tabindex="-1"><a class="header-anchor" href="#startasync-方法"><span>startAsync 方法</span></a></h4><p>startAsync 方法其实就是创建了一个异步上下文 AsyncContext 对象，AsyncContext 对象的作用是保存请求的中间信息，比如 Request 和 Response 对象等上下文信息。你来思考一下为什么需要保存这些信息呢？</p><p>这是因为 Tomcat 的工作线程在<code>Request.startAsync</code>调用之后，就直接结束回到线程池中了，线程本身不会保存任何信息。也就是说一个请求到服务端，执行到一半，你的 Web 应用正在处理，这个时候 Tomcat 的工作线程没了，这就需要有个缓存能够保存原始的 Request 和 Response 对象，而这个缓存就是 AsyncContext。</p><p>有了 AsyncContext，你的 Web 应用通过它拿到 request 和 response 对象，拿到 Request 对象后就可以读取请求信息，请求处理完了还需要通过 Response 对象将 HTTP 响应发送给浏览器。</p><p>除了创建 AsyncContext 对象，startAsync 还需要完成一个关键任务，那就是告诉 Tomcat 当前的 Servlet 处理方法返回时，不要把响应发到浏览器，因为这个时候，响应还没生成呢；并且不能把 Request 对象和 Response 对象销毁，因为后面 Web 应用还要用呢。</p><p>在 Tomcat 中，负责 flush 响应数据的是 CoyoteAdaptor，它还会销毁 Request 对象和 Response 对象，因此需要通过某种机制通知 CoyoteAdaptor，具体来说是通过下面这行代码：</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">request</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getCoyoteRequest</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">().</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">action</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">ActionCode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">ASYNC_START</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>你可以把它理解为一个 Callback，在这个 action 方法里设置了 Request 对象的状态，设置它为一个异步 Servlet 请求。</p><p>我们知道连接器是调用 CoyoteAdapter 的 service 方法来处理请求的，而 CoyoteAdapter 会调用容器的 service 方法，当容器的 service 方法返回时，CoyoteAdapter 判断当前的请求是不是异步 Servlet 请求，如果是，就不会销毁 Request 和 Response 对象，也不会把响应信息发到浏览器。你可以通过下面的代码理解一下，这是 CoyoteAdapter 的 service 方法，我对它进行了简化：</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> service</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">org</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">apache</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">coyote</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">Request</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> req</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> org</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">apache</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">coyote</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">Response</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> res) {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">   // 调用容器的 service 方法处理请求</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    connector</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getService</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">().</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getContainer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">().</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getPipeline</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">().</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">           getFirst</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">invoke</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(request, response);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">   // 如果是异步 Servlet 请求，仅仅设置一个标志，</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">   // 否则说明是同步 Servlet 请求，就将响应数据刷到浏览器</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">request</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">isAsync</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        async </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        request</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">finishRequest</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        response</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">finishResponse</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">   // 如果不是异步 Servlet 请求，就销毁 Request 对象和 Response 对象</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">async) {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        request</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">recycle</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        response</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">recycle</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>接下来，当 CoyoteAdaptor 的 service 方法返回到 ProtocolHandler 组件时，ProtocolHandler 判断返回值，如果当前请求是一个异步 Servlet 请求，它会把当前 Socket 的协议处理者 Processor 缓存起来，将 SocketWrapper 对象和相应的 Processor 存到一个 Map 数据结构里。</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">private</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> final</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Map</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">S</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Processor</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> connections </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> ConcurrentHashMap</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>之所以要缓存是因为这个请求接下来还要接着处理，还是由原来的 Processor 来处理，通过 SocketWrapper 就能从 Map 里找到相应的 Processor。</p><h4 id="complete-方法" tabindex="-1"><a class="header-anchor" href="#complete-方法"><span>complete 方法</span></a></h4><p>接着我们再来看关键的<code>ctx.complete</code>方法，当请求处理完成时，Web 应用调用这个方法。那么这个方法做了些什么事情呢？最重要的就是把响应数据发送到浏览器。</p><p>这件事情不能由 Web 应用线程来做，也就是说<code>ctx.complete</code>方法不能直接把响应数据发送到浏览器，因为这件事情应该由 Tomcat 线程来做，但具体怎么做呢？</p><p>我们知道，连接器中的 Endpoint 组件检测到有请求数据达到时，会创建一个 SocketProcessor 对象交给线程池去处理，因此 Endpoint 的通信处理和具体请求处理在两个线程里运行。</p><p>在异步 Servlet 的场景里，Web 应用通过调用<code>ctx.complete</code>方法时，也可以生成一个新的 SocketProcessor 任务类，交给线程池处理。对于异步 Servlet 请求来说，相应的 Socket 和协议处理组件 Processor 都被缓存起来了，并且这些对象都可以通过 Request 对象拿到。</p><p>讲到这里，你可能已经猜到<code>ctx.complete</code>是如何实现的了：</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> complete</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">() {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // 检查状态合法性，我们先忽略这句</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    check</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // 调用 Request 对象的 action 方法，其实就是通知连接器，这个异步请求处理完了</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">request</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getCoyoteRequest</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">().</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">action</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">ActionCode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">ASYNC_COMPLETE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>我们可以看到 complete 方法调用了 Request 对象的 action 方法。而在 action 方法里，则是调用了 Processor 的 processSocketEvent 方法，并且传入了操作码 OPEN_READ。</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">case</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> ASYNC_COMPLETE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    clearDispatches</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">asyncStateMachine</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">asyncComplete</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        processSocketEvent</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">SocketEvent</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">OPEN_READ</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    break</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>我们接着看 processSocketEvent 方法，它调用 SocketWrapper 的 processSocket 方法：</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">protected</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> processSocketEvent</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">SocketEvent</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> event</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> boolean</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> dispatch) {</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">    SocketWrapperBase</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#C678DD;">?</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> socketWrapper </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> getSocketWrapper</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (socketWrapper </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        socketWrapper</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">processSocket</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(event, dispatch);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>而 SocketWrapper 的 processSocket 方法会创建 SocketProcessor 任务类，并通过 Tomcat 线程池来处理：</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> boolean</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> processSocket</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">SocketWrapperBase</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">S</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> socketWrapper</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">        SocketEvent</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> event</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> boolean</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> dispatch) {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">      if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (socketWrapper </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">          return</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> false</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">      }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">      SocketProcessorBase</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">S</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> sc </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> processorCache</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pop</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">      if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (sc </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">          sc </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> createSocketProcessor</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(socketWrapper</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> event)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">      } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">          sc</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">reset</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(socketWrapper, event);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">      }</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      // 线程池运行</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">      Executor</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> executor </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> getExecutor</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">      if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (dispatch </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&amp;&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> executor </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">          executor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">execute</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(sc);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">      } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">          sc</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">run</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">      }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>请你注意 createSocketProcessor 函数的第二个参数是 SocketEvent，这里我们传入的是 OPEN_READ。通过这个参数，我们就能控制 SocketProcessor 的行为，因为我们不需要再把请求发送到容器进行处理，只需要向浏览器端发送数据，并且重新在这个 Socket 上监听新的请求就行了。</p><h2 id="参考资料" tabindex="-1"><a class="header-anchor" href="#参考资料"><span>参考资料</span></a></h2><ul><li><strong>官方</strong><ul><li><a href="http://tomcat.apache.org/" target="_blank" rel="noopener noreferrer">Tomcat 官方网站</a></li><li><a href="http://wiki.apache.org/tomcat/FrontPage" target="_blank" rel="noopener noreferrer">Tomcat Wiki</a></li><li><a href="http://tomee.apache.org/" target="_blank" rel="noopener noreferrer">Tomee 官方网站</a></li></ul></li><li><strong>教程</strong><ul><li><a href="https://time.geekbang.org/column/intro/100027701" target="_blank" rel="noopener noreferrer">深入拆解 Tomcat &amp; Jetty</a></li></ul></li></ul></div><!----><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/coder-xuyong/blog/edit/main/src/posts/01.Java/02.JavaEE/02.服务器/01.Tomcat/03.Tomcat容器.md" aria-label="在 GitHub 上编辑此页" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->在 GitHub 上编辑此页<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">上次编辑于: </span><span class="vp-meta-info" data-allow-mismatch="text">2025/6/10 02:14:26</span></div><div class="contributors"><span class="vp-meta-label">贡献者: </span><!--[--><!--[--><span class="vp-meta-info" title="email: 1299461580@qq.com">XuYong</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/pages/13f070/" aria-label="Tomcat连接器"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><!---->Tomcat连接器</div></a><a class="route-link auto-link next" href="/pages/f9e1e6/" aria-label="Tomcat优化"><div class="hint">下一页<span class="arrow end"></span></div><div class="link">Tomcat优化<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">coder-xuyong 的小破站</div><div class="vp-copyright">Copyright © 2025 xuyong </div></footer></div><!--]--><!--[--><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/assets/app-MqdbryXy.js" defer></script>
  </body>
</html>
