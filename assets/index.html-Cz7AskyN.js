import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,b as e,o as l}from"./app-CAQaCQ7Z.js";const n={};function t(h,i){return l(),a("div",null,i[0]||(i[0]=[e(`<h1 id="zookeeper-acl" tabindex="-1"><a class="header-anchor" href="#zookeeper-acl"><span>ZooKeeper ACL</span></a></h1><blockquote><p>为了避免存储在 Zookeeper 上的数据被其他程序或者人为误修改，Zookeeper 提供了 ACL(Access Control Lists) 进行权限控制。</p><p>ACL 权限可以针对节点设置相关读写等权限，保障数据安全性。</p></blockquote><p>ZooKeeper ACL 提供了以下几种命令行：</p><ul><li><strong>getAcl 命令</strong>：获取某个节点的 acl 权限信息。</li><li><strong>setAcl 命令</strong>：设置某个节点的 acl 权限信息。</li><li><strong>addauth 命令</strong>：输入认证授权信息，注册时输入明文密码，加密形式保存。</li></ul><h2 id="acl-组成" tabindex="-1"><a class="header-anchor" href="#acl-组成"><span>ACL 组成</span></a></h2><p>Zookeeper 的 acl 通过 <strong><code>[scheme:id:permissions]</code></strong> 来构成权限列表。</p><ul><li><strong>scheme</strong>：代表采用的某种权限机制，包括 world、auth、digest、ip、super 几种。 <ul><li><strong>world</strong>：默认模式，所有客户端都拥有指定的权限。world 下只有一个 id 选项，就是 anyone，通常组合写法为 <code>world:anyone:[permissons]</code>；</li><li><strong>auth</strong>：只有经过认证的用户才拥有指定的权限。通常组合写法为 <code>auth:user:password:[permissons]</code>，使用这种模式时，你需要先进行登录，之后采用 auth 模式设置权限时，<code>user</code> 和 <code>password</code> 都将使用登录的用户名和密码；</li><li><strong>digest</strong>：只有经过认证的用户才拥有指定的权限。通常组合写法为 <code>auth:user:BASE64(SHA1(password)):[permissons]</code>，这种形式下的密码必须通过 SHA1 和 BASE64 进行双重加密；</li><li><strong>ip</strong>：限制只有特定 IP 的客户端才拥有指定的权限。通常组成写法为 <code>ip:182.168.0.168:[permissions]</code>；</li><li><strong>super</strong>：代表超级管理员，拥有所有的权限，需要修改 Zookeeper 启动脚本进行配置。</li></ul></li><li><strong>id</strong>：代表允许访问的用户。</li><li><strong>permissions</strong>：权限组合字符串，由 cdrwa 组成，其中每个字母代表支持不同权限。可选项如下： <ul><li><strong>CREATE</strong>：允许创建子节点；</li><li><strong>READ</strong>：允许从节点获取数据并列出其子节点；</li><li><strong>WRITE</strong>：允许为节点设置数据；</li><li><strong>DELETE</strong>：允许删除子节点；</li><li><strong>ADMIN</strong>：允许为节点设置权限。</li></ul></li></ul><h2 id="设置与查看权限" tabindex="-1"><a class="header-anchor" href="#设置与查看权限"><span>设置与查看权限</span></a></h2><p>想要给某个节点设置权限 (ACL)，有以下两个可选的命令：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 1.给已有节点赋予权限</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> setAcl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> path</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> acl</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 2.在创建节点时候指定权限</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> create</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [-s] [-e] path data acl</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查看指定节点的权限命令如下：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getAcl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> path</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="添加认证信息" tabindex="-1"><a class="header-anchor" href="#添加认证信息"><span>添加认证信息</span></a></h2><p>可以使用如下所示的命令为当前 Session 添加用户认证信息，等价于登录操作。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 格式</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">addauth</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> scheme</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> auth</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#示例：添加用户名为test,密码为root的用户认证信息</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">addauth</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> digest</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> test:root</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="权限设置示例" tabindex="-1"><a class="header-anchor" href="#权限设置示例"><span>权限设置示例</span></a></h2><h3 id="world-模式" tabindex="-1"><a class="header-anchor" href="#world-模式"><span>world 模式</span></a></h3><p>world 是一种默认的模式，即创建时如果不指定权限，则默认的权限就是 world。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: localhost:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 32] create /mytest abc</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Created</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /mytest</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: localhost:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 4] getAcl /mytest</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&#39;world,&#39;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">anyone</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 默认的权限</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cdrwa</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: localhost:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 34] setAcl /mytest world:anyone:cwda </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 修改节点，不允许所有客户端读</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">....</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: localhost:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 6] get /mytest</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">org.apache.zookeeper.KeeperException$NoAuthException:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> KeeperErrorCode</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> NoAuth</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /mytest</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 无权访问</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="auth-模式" tabindex="-1"><a class="header-anchor" href="#auth-模式"><span>auth 模式</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: localhost:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 36] addauth digest test:root </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 登录</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: localhost:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 37] setAcl /mytest auth::cdrwa </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 设置权限</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: localhost:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 38] getAcl /mytest </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 查看权限信息</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&#39;digest,&#39;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">heibai:sCxtVJ1gPG8UW/jzFHR0A1ZKY5s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">=</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 用户名和密码 (密码经过加密处理)，注意返回的权限类型是 digest</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cdrwa</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 用户名和密码都是使用登录的用户名和密码，即使你在创建权限时候进行指定也是无效的</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: localhost:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 39] setAcl /mytest auth:root:root:cdrwa    </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#指定用户名和密码为 root</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: localhost:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 40] getAcl /mytest</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&#39;digest,&#39;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">heibai:sCxtVJ1gPG8UW/jzFHR0A1ZKY5s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">=</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  #无效，使用的用户名和密码依然还是 test</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cdrwa</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="digest-模式" tabindex="-1"><a class="header-anchor" href="#digest-模式"><span>digest 模式</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk:44] create /spark </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;spark&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> digest:heibai:sCxtVJ1gPG8UW/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">jzFHR0A1ZKY5s</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">:cdrwa</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  #指定用户名和加密后的密码</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk:45] getAcl /spark  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#获取权限</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&#39;digest,&#39;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">heibai:sCxtVJ1gPG8UW/jzFHR0A1ZKY5s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">=</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">   # 返回的权限类型是 digest</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cdrwa</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>到这里你可以发现使用 <code>auth</code> 模式设置的权限和使用 <code>digest</code> 模式设置的权限，在最终结果上，得到的权限模式都是 <code>digest</code>。某种程度上，你可以把 <code>auth</code> 模式理解成是 <code>digest</code> 模式的一种简便实现。因为在 <code>digest</code> 模式下，每次设置都需要书写用户名和加密后的密码，这是比较繁琐的，采用 <code>auth</code> 模式就可以避免这种麻烦。</p><h3 id="ip-模式" tabindex="-1"><a class="header-anchor" href="#ip-模式"><span>ip 模式</span></a></h3><p>限定只有特定的 ip 才能访问。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: localhost:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 46] create /hive </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;hive&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ip:192.168.0.108:cdrwa</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: localhost:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 47] get /hive</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Authentication</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> is</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> not</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> valid</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> :</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /hive</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # 当前主机已经不能访问</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这里可以看到当前主机已经不能访问，想要能够再次访问，可以使用对应 IP 的客户端，或使用下面介绍的 <code>super</code> 模式。</p><h3 id="super-模式" tabindex="-1"><a class="header-anchor" href="#super-模式"><span>super 模式</span></a></h3><p>需要修改启动脚本 <code>zkServer.sh</code>，并在指定位置添加超级管理员账户和密码信息：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&quot;-Dzookeeper.DigestAuthenticationProvider.superDigest=heibai:sCxtVJ1gPG8UW/jzFHR0A1ZKY5s=&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>修改完成后需要使用 <code>zkServer.sh restart</code> 重启服务，此时再次访问限制 IP 的节点：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: localhost:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 0] get /hive  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#访问受限</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Authentication</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> is</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> not</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> valid</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> :</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /hive</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: localhost:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 1] addauth digest heibai:heibai  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 登录 (添加认证信息)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: localhost:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 2] get /hive  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#成功访问</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hive</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cZxid</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0x158</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ctime</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Sat</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> May</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 25</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 09:11:29</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> CST</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2019</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mZxid</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0x158</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mtime</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Sat</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> May</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 25</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 09:11:29</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> CST</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2019</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pZxid</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0x158</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cversion</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">dataVersion</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">aclVersion</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ephemeralOwner</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0x0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">dataLength</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 4</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">numChildren</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="参考资料" tabindex="-1"><a class="header-anchor" href="#参考资料"><span>参考资料</span></a></h2><ul><li><a href="https://www.w3cschool.cn/zookeeper/zookeeper_installation.html" target="_blank" rel="noopener noreferrer">Zookeeper 安装</a></li><li><a href="https://github.com/heibaiying/BigData-Notes/blob/master/notes/installation/Zookeeper%E5%8D%95%E6%9C%BA%E7%8E%AF%E5%A2%83%E5%92%8C%E9%9B%86%E7%BE%A4%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.md" target="_blank" rel="noopener noreferrer">Zookeeper 单机环境和集群环境搭建</a></li><li><a href="https://www.runoob.com/w3cnote/zookeeper-bs-command.html" target="_blank" rel="noopener noreferrer">Zookeeper 客户端基础命令使用</a></li></ul>`,35)]))}const r=s(n,[["render",t],["__file","index.html.vue"]]),d=JSON.parse('{"path":"/pages/4046ce/","title":"ZooKeeperAcl","lang":"zh-CN","frontmatter":{"title":"ZooKeeperAcl","date":"2022-02-19T13:27:21.000Z","order":5,"categories":["分布式","分布式协同","ZooKeeper"],"tags":["分布式","分布式协同"],"permalink":"/pages/4046ce/","description":"ZooKeeper ACL 为了避免存储在 Zookeeper 上的数据被其他程序或者人为误修改，Zookeeper 提供了 ACL(Access Control Lists) 进行权限控制。 ACL 权限可以针对节点设置相关读写等权限，保障数据安全性。 ZooKeeper ACL 提供了以下几种命令行： getAcl 命令：获取某个节点的 acl 权...","head":[["meta",{"property":"og:url","content":"https://coder-xuyong.github.io/blog/pages/4046ce/"}],["meta",{"property":"og:site_name","content":"coder-xuyong"}],["meta",{"property":"og:title","content":"ZooKeeperAcl"}],["meta",{"property":"og:description","content":"ZooKeeper ACL 为了避免存储在 Zookeeper 上的数据被其他程序或者人为误修改，Zookeeper 提供了 ACL(Access Control Lists) 进行权限控制。 ACL 权限可以针对节点设置相关读写等权限，保障数据安全性。 ZooKeeper ACL 提供了以下几种命令行： getAcl 命令：获取某个节点的 acl 权..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-06-10T02:14:26.000Z"}],["meta",{"property":"article:tag","content":"分布式"}],["meta",{"property":"article:tag","content":"分布式协同"}],["meta",{"property":"article:published_time","content":"2022-02-19T13:27:21.000Z"}],["meta",{"property":"article:modified_time","content":"2025-06-10T02:14:26.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"ZooKeeperAcl\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2022-02-19T13:27:21.000Z\\",\\"dateModified\\":\\"2025-06-10T02:14:26.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"xuyong\\",\\"url\\":\\"https://github.com/coder-xuyong\\"}]}"]]},"headers":[{"level":2,"title":"ACL 组成","slug":"acl-组成","link":"#acl-组成","children":[]},{"level":2,"title":"设置与查看权限","slug":"设置与查看权限","link":"#设置与查看权限","children":[]},{"level":2,"title":"添加认证信息","slug":"添加认证信息","link":"#添加认证信息","children":[]},{"level":2,"title":"权限设置示例","slug":"权限设置示例","link":"#权限设置示例","children":[{"level":3,"title":"world 模式","slug":"world-模式","link":"#world-模式","children":[]},{"level":3,"title":"auth 模式","slug":"auth-模式","link":"#auth-模式","children":[]},{"level":3,"title":"digest 模式","slug":"digest-模式","link":"#digest-模式","children":[]},{"level":3,"title":"ip 模式","slug":"ip-模式","link":"#ip-模式","children":[]},{"level":3,"title":"super 模式","slug":"super-模式","link":"#super-模式","children":[]}]},{"level":2,"title":"参考资料","slug":"参考资料","link":"#参考资料","children":[]}],"git":{"createdTime":1749521666000,"updatedTime":1749521666000,"contributors":[{"name":"XuYong","username":"XuYong","email":"1299461580@qq.com","commits":1,"url":"https://github.com/XuYong"}]},"readingTime":{"minutes":4.66,"words":1399},"filePathRelative":"posts/15.分布式/11.分布式协同/02.ZooKeeper/05.ZooKeeperAcl.md","localizedDate":"2022年2月19日","excerpt":"\\n<blockquote>\\n<p>为了避免存储在 Zookeeper 上的数据被其他程序或者人为误修改，Zookeeper 提供了 ACL(Access Control Lists) 进行权限控制。</p>\\n<p>ACL 权限可以针对节点设置相关读写等权限，保障数据安全性。</p>\\n</blockquote>\\n<p>ZooKeeper ACL 提供了以下几种命令行：</p>\\n<ul>\\n<li><strong>getAcl 命令</strong>：获取某个节点的 acl 权限信息。</li>\\n<li><strong>setAcl 命令</strong>：设置某个节点的 acl 权限信息。</li>\\n<li><strong>addauth 命令</strong>：输入认证授权信息，注册时输入明文密码，加密形式保存。</li>\\n</ul>","autoDesc":true}');export{r as comp,d as data};
