import{_ as a,c as n,b as r,o as i}from"./app-wV_5OTc8.js";const t={};function s(l,e){return i(),n("div",null,e[0]||(e[0]=[r(`<h1 id="域名解析协议-dns" tabindex="-1"><a class="header-anchor" href="#域名解析协议-dns"><span>域名解析协议 DNS</span></a></h1><blockquote><p>域名系统（英文：Domain Name System，缩写：DNS）是互联网的一项服务。它作为将域名和 IP 地址相互映射的一个分布式数据库，能够使人更方便地访问互联网。DNS 使用 TCP 和 UDP 端口 53。当前，对于每一级域名长度的限制是 63 个字符，域名总长度则不能超过 253 个字符。</p><p>关键词：DNS, 域名解析</p></blockquote><h2 id="简介" tabindex="-1"><a class="header-anchor" href="#简介"><span>简介</span></a></h2><h3 id="什么是-dns" tabindex="-1"><a class="header-anchor" href="#什么是-dns"><span>什么是 DNS</span></a></h3><p>DNS 是一个应用层协议。</p><p>域名系统 (DNS) 的作用是将人类可读的域名 (如，<a href="http://www.example.com" target="_blank" rel="noopener noreferrer">www.example.com</a>) 转换为机器可读的 IP 地址 (如，192.0.2.44)。</p><h3 id="什么是域名" tabindex="-1"><a class="header-anchor" href="#什么是域名"><span>什么是域名</span></a></h3><p>域名是由一串用点分隔符 <code>.</code> 组成的互联网上某一台计算机或计算机组的名称，用于在数据传输时标识计算机的方位。域名可以说是一个 IP 地址的代称，目的是为了便于记忆后者。例如，<a href="http://wikipedia.org" target="_blank" rel="noopener noreferrer">wikipedia.org</a> 是一个域名，和 IP 地址 208.80.152.2 相对应。人们可以直接访问 <a href="http://wikipedia.org" target="_blank" rel="noopener noreferrer">wikipedia.org</a> 来代替 IP 地址，然后域名系统（DNS）就会将它转化成便于机器识别的 IP 地址。这样，人们只需要记忆 <a href="http://wikipedia.org" target="_blank" rel="noopener noreferrer">wikipedia.org</a> 这一串带有特殊含义的字符，而不需要记忆没有含义的数字。</p><div align="center"><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/network/application/dns/dns-domain.png"></div><h3 id="dns-的分层" tabindex="-1"><a class="header-anchor" href="#dns-的分层"><span>DNS 的分层</span></a></h3><p><strong>域名系统是分层次的。</strong></p><p>在域名系统的层次结构中，各种域名都隶属于域名系统根域的下级。域名的第一级是顶级域，它包括通用顶级域，例如 <code>.com</code>、<code>.net</code> 和 <code>.org</code>；以及国家和地区顶级域，例如 <code>.us</code>、<code>.cn</code> 和 <code>.tk</code>。顶级域名下一层是二级域名，一级一级地往下。这些域名向人们提供注册服务，人们可以用它创建公开的互联网资源或运行网站。顶级域名的管理服务由对应的域名注册管理机构（域名注册局）负责，注册服务通常由域名注册商负责。</p><h3 id="dns-服务类型" tabindex="-1"><a class="header-anchor" href="#dns-服务类型"><span>DNS 服务类型</span></a></h3><ul><li><strong>授权型 DNS</strong> - 一种授权型 DNS 服务提供一种更新机制，供开发人员用于管理其公用 DNS 名称。然后，它响应 DNS 查询，将域名转换为 IP 地址，以便计算机可以相互通信。授权型 DNS 对域有最终授权且负责提供递归型 DNS 服务器对 IP 地址信息的响应。Amazon Route 53 是一种授权型 DNS 系统。</li><li><strong>递归型 DNS</strong> - 客户端通常不会对授权型 DNS 服务直接进行查询。而是通常连接到称为解析程序的其他类型 DNS 服务，或递归型 DNS 服务。递归型 DNS 服务就像是旅馆的门童：尽管没有任何自身的 DNS 记录，但是可充当代表您获得 DNS 信息的中间程序。如果递归型 DNS 拥有已缓存或存储一段时间的 DNS 参考，那么它会通过提供源或 IP 信息来响应 DNS 查询。如果没有，则它会将查询传递到一个或多个授权型 DNS 服务器以查找信息。</li></ul><h3 id="记录类型" tabindex="-1"><a class="header-anchor" href="#记录类型"><span>记录类型</span></a></h3><p>DNS 中，常见的资源记录类型有：</p><ul><li><strong>NS 记录（域名服务）</strong> ─ 指定解析域名或子域名的 DNS 服务器。</li><li><strong>MX 记录（邮件交换）</strong> ─ 指定接收信息的邮件服务器。</li><li><strong>A 记录（地址）</strong> ─ 指定域名对应的 IPv4 地址记录。</li><li><strong>AAAA 记录（地址）</strong> ─ 指定域名对应的 IPv6 地址记录。</li><li><strong>CNAME（规范）</strong> ─ 一个域名映射到另一个域名或 <code>CNAME</code> 记录（ <a href="http://example.com" target="_blank" rel="noopener noreferrer">example.com</a> 指向 <a href="http://www.example.com/" target="_blank" rel="noopener noreferrer">www.example.com</a> ）或映射到一个 <code>A</code>记录。</li><li><strong>PTR 记录（反向记录）</strong> ─ PTR 记录用于定义与 IP 地址相关联的名称。 PTR 记录是 A 或 AAAA 记录的逆。 PTR 记录是唯一的，因为它们以 .arpa 根开始并被委派给 IP 地址的所有者。</li></ul><blockquote><p>详细可以参考：<a href="https://zh.wikipedia.org/wiki/%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%AE%B0%E5%BD%95%E7%B1%BB%E5%9E%8B%E5%88%97%E8%A1%A8" target="_blank" rel="noopener noreferrer">维基百科 - 域名服务器记录类型列表</a></p></blockquote><h2 id="域名解析" tabindex="-1"><a class="header-anchor" href="#域名解析"><span>域名解析</span></a></h2><p>主机名到 IP 地址的映射有两种方式：</p><ul><li><strong>静态映射</strong> - 在本机上配置域名和 IP 的映射，旨在本机上使用。Windows 和 Linux 的 hosts 文件中的内容就属于静态映射。</li><li><strong>动态映射</strong> - 建立一套域名解析系统（DNS），只在专门的 DNS 服务器上配置主机到 IP 地址的映射，网络上需要使用主机名通信的设备，首先需要到 DNS 服务器查询主机所对应的 IP 地址。</li></ul><p>通过域名去查询域名服务器，得到 IP 地址的过程叫做域名解析。在解析域名时，一般先静态域名解析，再动态解析域名。可以将一些常用的域名放入静态域名解析表中，这样可以大大提高域名解析效率。</p><div align="center"><img src="https://raw.githubusercontent.com/dunwu/images/master/cs/network/application/dns/dns-resolve.png"></div><p>上图展示了一个动态域名解析的流程，步骤如下：</p><ol><li>用户打开 Web 浏览器，在地址栏中输入 <a href="http://www.example.com" target="_blank" rel="noopener noreferrer">www.example.com</a>，然后按 Enter 键。</li><li><a href="http://www.example.com" target="_blank" rel="noopener noreferrer">www.example.com</a> 的请求被路由到 DNS 解析程序，这一般由用户的 Internet 服务提供商 (ISP) 进行管理，例如有线 Internet 服务提供商、DSL 宽带提供商或公司网络。</li><li>ISP 的 DNS 解析程序将 <a href="http://www.example.com" target="_blank" rel="noopener noreferrer">www.example.com</a> 的请求转发到 DNS 根名称服务器。</li><li>ISP 的 DNS 解析程序再次转发 <a href="http://www.example.com" target="_blank" rel="noopener noreferrer">www.example.com</a> 的请求，这次转发到 .com 域的一个 TLD 名称服务器。.com 域的名称服务器使用与 <a href="http://example.com" target="_blank" rel="noopener noreferrer">example.com</a> 域相关的四个 Amazon Route 53 名称服务器的名称来响应该请求。</li><li>ISP 的 DNS 解析程序选择一个 Amazon Route 53 名称服务器，并将 <a href="http://www.example.com" target="_blank" rel="noopener noreferrer">www.example.com</a> 的请求转发到该名称服务器。</li><li>Amazon Route 53 名称服务器在 <a href="http://example.com" target="_blank" rel="noopener noreferrer">example.com</a> 托管区域中查找 <a href="http://www.example.com" target="_blank" rel="noopener noreferrer">www.example.com</a> 记录，获得相关值，例如，Web 服务器的 IP 地址 (192.0.2.44)，并将 IP 地址返回至 DNS 解析程序。</li><li>ISP 的 DNS 解析程序最终获得用户需要的 IP 地址。解析程序将此值返回至 Web 浏览器。DNS 解析程序还会将 <a href="http://example.com" target="_blank" rel="noopener noreferrer">example.com</a> 的 IP 地址缓存 (存储) 您指定的时长，以便它能够在下次有人浏览 <a href="http://example.com" target="_blank" rel="noopener noreferrer">example.com</a> 时更快地作出响应。有关更多信息，请参阅存活期 (TTL)。</li><li>Web 浏览器将 <a href="http://www.example.com" target="_blank" rel="noopener noreferrer">www.example.com</a> 的请求发送到从 DNS 解析程序中获得的 IP 地址。这是您的内容所处位置，例如，在 Amazon EC2 实例中或配置为网站终端节点的 Amazon S3 存储桶中运行的 Web 服务器。</li><li>192.0.2.44 上的 Web 服务器或其他资源将 <a href="http://www.example.com" target="_blank" rel="noopener noreferrer">www.example.com</a> 的 Web 页面返回到 Web 浏览器，且 Web 浏览器会显示该页面。</li></ol><blockquote><p>🔔 注意：只有配置了域名服务器，才能执行域名解析。</p><p>例如，在 Linux 中执行 <code>vim /etc/resolv.conf</code> 命令，在其中添加下面的内容来配置域名服务器地址：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>nameserver 218.2.135.1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></blockquote><h2 id="linux-上的域名相关命令" tabindex="-1"><a class="header-anchor" href="#linux-上的域名相关命令"><span>Linux 上的域名相关命令</span></a></h2><h3 id="hostname" tabindex="-1"><a class="header-anchor" href="#hostname"><span>hostname</span></a></h3><blockquote><p>hostname 命令用于查看和设置系统的主机名称。环境变量 HOSTNAME 也保存了当前的主机名。在使用 hostname 命令设置主机名后，系统并不会永久保存新的主机名，重新启动机器之后还是原来的主机名。如果需要永久修改主机名，需要同时修改 <code>/etc/hosts</code> 和 <code>/etc/sysconfig/network</code> 的相关内容。</p><p>参考：<a href="http://man.linuxde.net/hostname" target="_blank" rel="noopener noreferrer">http://man.linuxde.net/hostname</a></p></blockquote><p>示例：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hostname</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">AY1307311912260196fcZ</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="nslookup" tabindex="-1"><a class="header-anchor" href="#nslookup"><span>nslookup</span></a></h3><blockquote><p>nslookup 命令是常用域名查询工具，就是查 DNS 信息用的命令。</p><p>参考：<a href="http://man.linuxde.net/nslookup" target="_blank" rel="noopener noreferrer">http://man.linuxde.net/nslookup</a></p></blockquote><p>示例：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[root@localhost ~]# nslookup www.jsdig.com</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Server:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">         202.96.104.15</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Address:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        202.96.104.15#53</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Non-authoritative</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> answer:</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">www.jsdig.com</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> canonical</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> host.1.jsdig.com.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Name:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   host.1.jsdig.com</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Address:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 100.42.212.8</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="更多内容" tabindex="-1"><a class="header-anchor" href="#更多内容"><span>更多内容</span></a></h2><ul><li><a href="https://zh.wikipedia.org/wiki/%E5%9F%9F%E5%90%8D" target="_blank" rel="noopener noreferrer">维基百科 - 域名</a></li><li><a href="https://zh.wikipedia.org/wiki/%E5%9F%9F%E5%90%8D%E7%B3%BB%E7%BB%9F" target="_blank" rel="noopener noreferrer">维基百科 - 域名系统</a></li><li><a href="https://zh.wikipedia.org/wiki/%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%AE%B0%E5%BD%95%E7%B1%BB%E5%9E%8B%E5%88%97%E8%A1%A8" target="_blank" rel="noopener noreferrer">维基百科 - 域名服务器记录类型列表</a></li><li><a href="https://aws.amazon.com/cn/route53/what-is-dns/" target="_blank" rel="noopener noreferrer">什么是 DNS？</a></li><li><a href="https://tools.ietf.org/html/rfc1034" target="_blank" rel="noopener noreferrer">RFC 1034</a></li><li><a href="https://tools.ietf.org/html/rfc1035" target="_blank" rel="noopener noreferrer">RFC 1035</a></li></ul>`,37)]))}const p=a(t,[["render",s],["__file","index.html.vue"]]),h=JSON.parse('{"path":"/pages/af0e09/","title":"域名解析协议 DNS","lang":"zh-CN","frontmatter":{"title":"域名解析协议 DNS","date":"2018-10-17T18:14:00.000Z","order":2,"categories":["网络","网络协议"],"tags":["网络","网络协议","DNS"],"permalink":"/pages/af0e09/","description":"域名解析协议 DNS 域名系统（英文：Domain Name System，缩写：DNS）是互联网的一项服务。它作为将域名和 IP 地址相互映射的一个分布式数据库，能够使人更方便地访问互联网。DNS 使用 TCP 和 UDP 端口 53。当前，对于每一级域名长度的限制是 63 个字符，域名总长度则不能超过 253 个字符。 关键词：DNS, 域名解析 ...","head":[["meta",{"property":"og:url","content":"https://coder-xuyong.github.io/blog/pages/af0e09/"}],["meta",{"property":"og:site_name","content":"coder-xuyong"}],["meta",{"property":"og:title","content":"域名解析协议 DNS"}],["meta",{"property":"og:description","content":"域名解析协议 DNS 域名系统（英文：Domain Name System，缩写：DNS）是互联网的一项服务。它作为将域名和 IP 地址相互映射的一个分布式数据库，能够使人更方便地访问互联网。DNS 使用 TCP 和 UDP 端口 53。当前，对于每一级域名长度的限制是 63 个字符，域名总长度则不能超过 253 个字符。 关键词：DNS, 域名解析 ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-06-10T02:14:26.000Z"}],["meta",{"property":"article:tag","content":"网络"}],["meta",{"property":"article:tag","content":"网络协议"}],["meta",{"property":"article:tag","content":"DNS"}],["meta",{"property":"article:published_time","content":"2018-10-17T18:14:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-06-10T02:14:26.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"域名解析协议 DNS\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2018-10-17T18:14:00.000Z\\",\\"dateModified\\":\\"2025-06-10T02:14:26.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"xuyong\\",\\"url\\":\\"https://github.com/coder-xuyong\\"}]}"]]},"headers":[{"level":2,"title":"简介","slug":"简介","link":"#简介","children":[{"level":3,"title":"什么是 DNS","slug":"什么是-dns","link":"#什么是-dns","children":[]},{"level":3,"title":"什么是域名","slug":"什么是域名","link":"#什么是域名","children":[]},{"level":3,"title":"DNS 的分层","slug":"dns-的分层","link":"#dns-的分层","children":[]},{"level":3,"title":"DNS 服务类型","slug":"dns-服务类型","link":"#dns-服务类型","children":[]},{"level":3,"title":"记录类型","slug":"记录类型","link":"#记录类型","children":[]}]},{"level":2,"title":"域名解析","slug":"域名解析","link":"#域名解析","children":[]},{"level":2,"title":"Linux 上的域名相关命令","slug":"linux-上的域名相关命令","link":"#linux-上的域名相关命令","children":[{"level":3,"title":"hostname","slug":"hostname","link":"#hostname","children":[]},{"level":3,"title":"nslookup","slug":"nslookup","link":"#nslookup","children":[]}]},{"level":2,"title":"更多内容","slug":"更多内容","link":"#更多内容","children":[]}],"git":{"createdTime":1749521666000,"updatedTime":1749521666000,"contributors":[{"name":"XuYong","username":"XuYong","email":"1299461580@qq.com","commits":1,"url":"https://github.com/XuYong"}]},"readingTime":{"minutes":6.78,"words":2033},"filePathRelative":"posts/13.网络/02.网络协议/02.DNS.md","localizedDate":"2018年10月17日","excerpt":"\\n<blockquote>\\n<p>域名系统（英文：Domain Name System，缩写：DNS）是互联网的一项服务。它作为将域名和 IP 地址相互映射的一个分布式数据库，能够使人更方便地访问互联网。DNS 使用 TCP 和 UDP 端口 53。当前，对于每一级域名长度的限制是 63 个字符，域名总长度则不能超过 253 个字符。</p>\\n<p>关键词：DNS, 域名解析</p>\\n</blockquote>\\n<h2>简介</h2>\\n<h3>什么是 DNS</h3>\\n<p>DNS 是一个应用层协议。</p>\\n<p>域名系统 (DNS) 的作用是将人类可读的域名 (如，<a href=\\"http://www.example.com\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">www.example.com</a>) 转换为机器可读的 IP 地址 (如，192.0.2.44)。</p>","autoDesc":true}');export{p as comp,h as data};
